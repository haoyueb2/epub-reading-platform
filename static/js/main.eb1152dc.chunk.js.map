{"version":3,"sources":["components/Home/index.jsx","components/Home/Nav0.jsx","components/Home/Footer0.jsx","components/Home/Banner0.jsx","components/Home/Content0.jsx","components/Home/Content7.jsx","components/Home/Content13.jsx","components/Home/data.source.js","components/Home/Content12.jsx","actions/error_actions.jsx","actions/session_actions.jsx","components/Page3/index.jsx","components/Page2/book_gallery.jsx","components/Page2/index.jsx","components/Page2/book_index_container.js","reducers/selectors.js","actions/book_actions.jsx","components/Page2/SVGLoader.js","components/Page2/animation.js","components/Page2/book_show.jsx","components/Page2/book_show_container.js","components/Reader/Control/Navigation.jsx","components/Reader/model/Note.js","components/Reader/Control/EditorToolbar.jsx","components/Reader/Control/NoteCard.jsx","components/Reader/service/Config.js","components/Reader/service/Util.js","components/Reader/service/AutoBookmark.js","components/Reader/Control/ViewArea.jsx","components/Reader/Control/Draggable.jsx","components/Reader/model/Bookmark.js","components/Reader/Control/Toolbar.jsx","components/Reader/Control/SettingsDialog.jsx","components/Reader/Control/Bookmark.jsx","components/Reader/Control/Bookmarks.jsx","components/Reader/service/DBUtil.js","components/Reader/Control/Note.jsx","components/Reader/Control/Notes.jsx","components/Reader/Control/Message.jsx","components/Reader/Control/ExportPanel.jsx","components/App.js","components/Reader/Control/Viewer.jsx","components/Reader/Control/App.jsx","components/Session/session_form.jsx","components/Session/session_form_container.js","components/Session/index.jsx","components/Page4/index.jsx","components/root.jsx","serviceWorker.js","reducers/session_reducer.js","reducers/book_reducer.jsx","reducers/error_reducer.js","reducers/root_reducer.js","store/store.js","index.js"],"names":["isMobile","Item","es_menu","Header","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","phoneClick","menu","findDOMNode","phoneOpen","state","setState","menuHeight","scrollHeight","_this2","esm_extends","dataSource","_this$state","navData","Menu","children","navChildren","keys","map","key","i","react_default","a","createElement","assign","toString","react_router_dom","to","href","target","es","component","animation","opacity","type","wrapper","page","className","concat","x","ease","logo","mobileMenu","onClick","ref","c","style","height","mode","defaultSelectedKeys","theme","React","Component","Footer","ScrollOverPack_default","OverPack","y","copyright","PureComponent","Banner","currentProps","rc_queue_anim_es","delay","textWrapper","title","match","src","width","alt","content","es_button","ghost","button","yoyo","repeat","duration","es_icon","Content","getBlockChildren","data","item","col","icon","listChildren","block","titleWrapper","name","indexOf","objectSpread","leaveReverse","row","TabPane","tabs","Content13","Nav00DataSource","Banner00DataSource","Content00DataSource","playScale","md","xs","Content130DataSource","Footer00DataSource","enquireScreen","b","location","window","Home","show","port","setTimeout","_this3","Banner0","id","Content0","Home_Content13","d","dom","receiveErrors","errors","receiveCurrentUser","currentUser","IconText","_ref","text","marginRight","Index","delete_bookshelf","bind","assertThisInitialized","fetchBookshelf","fetch","webBase","then","res","json","myBookShelf","books","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","tmp","value","push","book_id","err","return","bookID","user","user_id","headers","Content-Type","method","body","JSON","stringify","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_this4","background","padding","minHeight","list","itemLayout","size","footer","renderItem","actions","rate","disabled","defaultValue","parseFloat","rating","allowHalf","tooltips","Page3_IconText","author","extra","cover_image_url","Meta","description","withRouter","connect","ownProps","session","dispatch","BookGallery","allbooks","book","index","BookIndex","requestBookIndex","book_gallery","values","payload","console","log","SVGLoader","manager","DefaultLoadingManager","prototype","constructor","load","url","onLoad","onProgress","onError","scope","loader","FileLoader","setPath","path","parse","parseArcCommand","rx","ry","x_axis_rotation","large_arc_flag","sweep_flag","start","end","Math","PI","abs","dx2","dy2","x1p","cos","sin","y1p","rxs","rys","x1ps","y1ps","cr","s","sqrt","dq","pq","q","max","cxp","cyp","cx","cy","theta","svgAngle","delta","currentPath","absellipse","ux","uy","vx","vy","dot","len","ang","acos","min","parseStyle","node","hasAttribute","fill","getAttribute","isVisible","getReflection","parseFloats","string","array","split","length","number","lastIndexOf","splice","getTransformScaleX","m","te","elements","getTransformScaleY","paths","transformStack","tempTransform0","Matrix3","tempTransform1","tempTransform2","tempTransform3","currentTransform","parseNode","nodeType","transform","transformsTexts","tIndex","transformText","openParPos","closeParPos","transformType","substr","identity","tx","ty","translate","angle","rotate","multiplyMatrices","scaleX","scaleY","scale","set","tan","premultiply","parseTransformNode","copy","getNodeTransform","nodeName","ShapePath","color","setStyle","point","Vector2","control","firstPoint","isFirstPoint","doSetFirstPoint","commands","l","command","charAt","trim","numbers","j","jl","moveTo","lineTo","bezierCurveTo","quadraticCurveTo","clone","autoClose","curves","currentPoint","parsePathNode","w","h","parseRectNode","replace","parsePolygonNode","parsePolylineNode","r","subpath","Path","absarc","subPaths","parseCircleNode","parseEllipseNode","x1","y1","x2","y2","parseLineNode","transfVec2","v2","tempV3","applyMatrix3","isTransformRotated","tempV2","Vector3","n","subPath","curve","isLineCurve","v1","isCubicBezierCurve","v0","v3","isQuadraticBezierCurve","isEllipseCurve","aX","aY","xRadius","yRadius","transformPath","nodes","childNodes","pop","DOMParser","parseFromString","documentElement","Scene","_useState","useState","_useState2","slicedToArray","shapes","_useState3","_useState4","toggle","useEffect","setInterval","Promise","resolve","flatten","group","toShapes","shape","transitions","useTransition","uuid","from","position","rotation","enter","leave","order","lazy","trail","unique","reset","deg","THREE","degToRad","three","_ref$item","_ref$props","mesh","interpolate","z","meshPhongMaterial","attach","side","depthWrite","transparent","args","Animation","dist","camera","fov","near","far","intensity","BookShow","TextArea","handleChange","e","handleSubmit","submitting","params","bookshelf_item","animation_Animation","addToShelf","descriptions","bordered","label","pages","publisher","span","badge","status","Navigation","open","help","chapterList","handleClose","handleOpen","handleHelp","myRef","createRef","toc","epub","getToc","chapters","getChapters","bindEventForChapters","current","appendChild","collapse","ul","document","forEach","str","li","innerHTML","subitems","addEventListener","event","toLowerCase","goto","isRendered","preventDefault","_this$props","classes","fontColor","IconButton_default","Menu_default","Drawer_default","onClose","Typography_default","align","withStyles","left","top","zIndex","flex","marginTop","marginBottom","Note","bookKey","chapter","cfi","range","note","Date","getTime","EditorToolbar","createNote","closeMenu","handleHighlight","handleCopyPlainText","iframe","getElementsByTagName","iDoc","contentDocument","sel","getSelection","getRangeAt","cfiBase","renderer","currentChapter","EPUBJS","EpubCFI","generateCfiFromRange","spinePos","epubTitle","charRange","rangy","saveCharacterRanges","serial","parseInt","dataset","isNaN","setKey","pen","highlightSelection","empty","addNote","stopPropagation","execCommand","_this$props2","posX","posY","colors","root","visibility","backgroundColor","bottom","borderTopColor","data-color","ContentCut_default","display","alignItems","borderRadius","cursor","transition","&:hover","&:active","orange","borderWidth","borderStyle","borderColor","marginLeft","NoteCard","handleBlur","nextProps","updateNote","textArea","card","textarea","onChange","onBlur","placeholder","boxShadow","right","margin","fontFamily","fontSize","border","outline","resize","&::-webkit-input-placeholder","fontStyle","&::-moz-placeholder","Config","lineHeight","letterSpacing","wordSpacing","column","gutter","disablePopup","localStorage","getItem","getDefaultConfigObj","config","setItem","get","css1","css2","join","Util","element","attr","currentStyle","getComputedStyle","script","doc","arguments","scriptEl","getElementById","defer","css","textContent","head","getDefaultCss","arr","inner","outer","outerDoc","innerDoc","getUserStyle","addCss","getUserScript","resetConfig","applyCss","addDefaultCss","applyScript","AutoBookmark","obj","ViewArea","openMenu","openNoteCard","mPosX","mPosY","nPosX","nPosY","notes","prev","closeNoteCard","renderNotes","getPen","setNote","removeEventListener","copyTextHack","renderTo","bindEvent","gotoCfi","getCfi","copyText","clipboardData","setData","isFirefox","navigator","userAgent","lock","arrowKeys","keyCode","prevPage","nextPage","mouseFirefox","detail","mouseChrome","wheelDelta","which","ctrlKey","on","_this2$props","getCurrentLocationCfi","recordCfi","isCollapsed","rect","rangePosition","clientX","clientY","getStyle","noteCard","createHighlighter","ignoreWhiteSpace","elementTagName","elementProperties","onclick","_this3$props","currentTarget","getNote","onElementCreate","applier","createClassApplier","addClassApplier","getNotesByChapter","iWin","contentWindow","defaultView","serializeSelection","removeAllHighlights","temp","restoreCharacterRanges","warn","deserializeSelection","_this$props3","deleteNote","forceSingle","pageArea","NavigateBefore_default","arrow","NavigateNext_default","Control_EditorToolbar","Control_NoteCard","justifyContent","Draggable","startX","startY","sourceX","sourceY","move","_ref2","_ref3","currentY","distX","distY","maxEX","innerWidth","maxEY","innerHeight","onMouseDown","Bookmark","Toolbar","isFullScreen","handleFullScreen","handleExitFullScreen","handleScreen","handleSettings","handleNotes","handleBookmarks","handleAddBookmark","handleExit","hide","de","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","toggleSettingsDialog","toggleNotes","toggleBookmarks","findFirstVisible","bookmark","toggleMessage","handleReading","fullScreen","exitFullScreen","showToolbar","Control_Draggable","onMouseOver","onMouseOut","DragHandle_default","Fullscreen_default","FullscreenExit_default","Settings_default","Sort_default","FormatListBulleted_default","Bookmark_default","ExitToApp_default","SettingsDialog","changeTheme","changeColors","changeColumn","changeGutter","changePadding","changeFontConfig","changeUserStyle","resetUserStyle","handleColorsChange","handleOtherChange","defineProperty","toggleTheme","colors1","setConfig","num","alert","file","files","reader","FileReader","readAsText","onerror","onload","result","resetStyle","color0","color1","color2","color3","Dialog_default","onRequestClose","Dialog","Divider_default","box","Tooltip_default","placement","Brightness5_default","Brightness4_default","colorBox","colorItem","input","controlBox","caption","Form","Checkbox_default","checked","htmlFor","Stars_default","accept","Restore_default","Button_default","minWidth","shadows","grey","flexWrap","borderBottom","&:focus","textAlign","green","BookmarkItem","editable","handleClick","handleRemove","handleEdit","handleSave","deleteBookmark","updateBookmark","noWrap","editButton","TextFields_default","saveButton","Done_default","Grid_default","container","RemoveCircleOutline_default","overflow","Bookmarks","gutterBottom","bookmarks","Control_Bookmark","listStyle","overflowX","DBUtil","dbName","storeName","version","indexedDB","error","db","request","onsuccess","errorCode","onupgradeneeded","objectStoreNames","contains","createObjectStore","keyPath","success","req","transaction","objectStore","add","delete","_this5","_this6","openCursor","continue","put","close","handleJump","handleDelete","autoFocus","noteContent","Clear_default","ArrowForward_default","flexGrow","Notes","handleExport","toggleExport","anchor","Control_Note","foot","dense","flexDirection","flexShrink","Message","Snackbar_default","anchorOrigin","vertical","horizontal","autoHideDuration","SnackbarContentProps","aria-describedby","message","action","Transition","Slide_default","direction","ExportPanel","copyHandler","generateArticle","handleCopy","format","article","divider","fragment","headRight","Close_default","quote","annotation","borderBottomWidth","borderBottomStyle","palette","paper","primary","overflowY","fontWeight","paddingBottom","borderLeft","paddingLeft","ePub","Viewer","openSettings","openBookmarks","openNotes","openMessage","openExport","addBookmark","dbAccess","getAll","bookmarksArr","filter","noteDBAccess","noteArr","init","remove","update","_this7","_this8","readingBook","Reader_Control_Navigation","Control_ViewArea","Reader_Control_Toolbar","Control_Bookmarks","getBookmark","Control_Notes","Control_SettingsDialog","Control_Message","Control_ExportPanel","App","isReading","handleReadingBook","bgColor","themeType","createMuiTheme","Control_Viewer","material_ui_styles","Search","es_input","SessionForm","username","password","username2","password2","guestSubmit","handleRegister","toAdmin","clearErrors","processForm","processRegister","field","history","loggedIn","es_alert","getFieldDecorator","form","es_form","onSubmit","rules","required","prefix","htmlType","guestlogin","handleAlert","logout","displayLogin","enterButton","onSearch","WrappedNormalLoginForm","create","Boolean","login","register","Session","session_form_container","cover_img_url","authorization","info","fileList","upload","Page4_Search","WrappedForm","Nav0","react_router","exact","Book","Admin","Page3","SReader","Footer0","Root","store","react_redux_es","integration_react","persistor","persistStore","components_App","hostname","nullUser","freeze","SessionReducer","merge","BooksReducer","ErrorsReducer","rootReducer","combineReducers","ErrorReducer","middleware","thunk","storage","reducer","persistReducer","reduxStore","createStore","composeWithDevTools","applyMiddleware","apply","ReactDOM","render","components_root","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.eb1152dc.chunk.js","sourcesContent":["/* eslint no-undef: 0 */\n/* eslint arrow-parens: 0 */\nimport React from 'react';\nimport { enquireScreen } from 'enquire-js';\n\n\nimport Banner0 from './Banner0';\nimport Content0 from './Content0';\nimport Content7 from './Content7';\nimport Content13 from './Content13';\nimport Content12 from './Content12';\n\nimport {\n  Banner00DataSource,\n  Content00DataSource,\n  Content70DataSource,\n  Content130DataSource,\n  Content120DataSource,\n} from './data.source.js';\n\nimport './less/antMotionStyle.less';\n\nlet isMobile;\nenquireScreen((b) => {\n  isMobile = b;\n});\n\nconst location = window.location;\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMobile,\n      show: !location.port, // 如果不是 dva 2.0 请删除\n    };\n  }\n\n  componentDidMount() {\n    // 适配手机屏幕;\n    enquireScreen((b) => {\n      this.setState({ isMobile: !!b });\n    });\n    // dva 2.0 样式在组件渲染之后动态加载，导致滚动组件不生效；线上不影响；\n    /* 如果不是 dva 2.0 请删除 start */\n    if (location.port) {\n      // 样式 build 时间在 200-300ms 之间;\n      setTimeout(() => {\n        this.setState({\n          show: true,\n        });\n      }, 500);\n    }\n    /* 如果不是 dva 2.0 请删除 end */\n  }\n\n  render() {\n    const children = [\n      <Banner0\n        id=\"Banner0_0\"\n        key=\"Banner0_0\"\n        dataSource={Banner00DataSource}\n        isMobile={this.state.isMobile}\n      />,\n      <Content0\n        id=\"Content0_0\"\n        key=\"Content0_0\"\n        dataSource={Content00DataSource}\n        isMobile={this.state.isMobile}\n      />,\n      <Content13\n        id=\"Content13_0\"\n        key=\"Content13_0\"\n        dataSource={Content130DataSource}\n        isMobile={this.state.isMobile}\n      />,\n    ];\n    return (\n      <div\n        className=\"templates-wrapper\"\n        ref={(d) => {\n          this.dom = d;\n        }}\n      >\n        {/* 如果不是 dva 2.0 替换成 {children} start */}\n        {this.state.show && children}\n        {/* 如果不是 dva 2.0 替换成 {children} end */}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { findDOMNode } from 'react-dom';\nimport TweenOne from 'rc-tween-one';\nimport { Menu } from 'antd';\nimport { Link } from \"react-router-dom\";\n\nconst Item = Menu.Item;\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      phoneOpen: false,\n      menuHeight: 0,\n    };\n  }\n\n  phoneClick = () => {\n    const menu = findDOMNode(this.menu);\n    const phoneOpen = !this.state.phoneOpen;\n    this.setState({\n      phoneOpen,\n      menuHeight: phoneOpen ? menu.scrollHeight : 0,\n    });\n  };\n\n  render() {\n    const { ...props } = this.props;\n    const { dataSource, isMobile } = props;\n    delete props.dataSource;\n    delete props.isMobile;\n    const { menuHeight, phoneOpen } = this.state;\n    const navData = dataSource.Menu.children;\n    const navChildren = Object.keys(navData).map((key, i) => (\n      <Item key={i.toString()} {...navData[key]}>\n        <Link\n          {...navData[key].a}\n          to={navData[key].a.href}\n          target={navData[key].a.target}\n        >\n          {navData[key].a.children}\n        </Link>\n      </Item>\n    ));\n    return (\n      <TweenOne\n        component=\"header\"\n        animation={{ opacity: 0, type: 'from' }}\n        {...dataSource.wrapper}\n        {...props}\n      >\n        <div\n          {...dataSource.page}\n          className={`${dataSource.page.className}${phoneOpen ? ' open' : ''}`}\n        >\n          <TweenOne\n            animation={{ x: -30, type: 'from', ease: 'easeOutQuad' }}\n            {...dataSource.logo}\n          >\n          </TweenOne>\n          {isMobile && (\n            <div\n              {...dataSource.mobileMenu}\n              onClick={() => {\n                this.phoneClick();\n              }}\n            >\n              <em />\n              <em />\n              <em />\n            </div>\n          )}\n          <TweenOne\n            {...dataSource.Menu}\n            animation={{ x: 30, type: 'from', ease: 'easeOutQuad' }}\n            ref={(c) => {\n              this.menu = c;\n            }}\n            style={isMobile ? { height: menuHeight } : null}\n          >\n            <Menu\n              mode={isMobile ? 'inline' : 'horizontal'}\n              defaultSelectedKeys={['0']}\n              theme={isMobile ? 'dark' : 'default'}\n            >\n              {navChildren}\n            </Menu>\n          </TweenOne>\n        </div>\n      </TweenOne>\n    );\n  }\n}\n\nexport default Header;\n","import React from 'react';\nimport TweenOne from 'rc-tween-one';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\n\nclass Footer extends React.PureComponent {\n  render() {\n    const { ...props } = this.props;\n    const { dataSource } = props;\n    delete props.dataSource;\n    delete props.isMobile;\n    return (\n      <div {...props} {...dataSource.wrapper}>\n        <OverPack {...dataSource.OverPack}>\n          <TweenOne\n            animation={{ y: '+=30', opacity: 0, type: 'from' }}\n            key=\"footer\"\n            {...dataSource.copyright}\n          >\n            {dataSource.copyright.children}\n          </TweenOne>\n        </OverPack>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","import React from 'react';\nimport { Button, Icon } from 'antd';\nimport QueueAnim from 'rc-queue-anim';\nimport TweenOne from 'rc-tween-one';\n\nclass Banner extends React.PureComponent {\n  render() {\n    const {...currentProps}  = this.props;\n\n    const  {dataSource} = currentProps;\n\n    delete currentProps.dataSource;\n    delete currentProps.isMobile;\n    return (\n      <div {...currentProps} {...dataSource.wrapper}>\n        <QueueAnim\n          key=\"QueueAnim\"\n          type={['bottom', 'top']}\n          delay={200}\n          {...dataSource.textWrapper}\n        >\n          <div key=\"title\" {...dataSource.title}>\n            {dataSource.title.children.match(\n              /\\.(svg|gif|jpg|jpeg|png|JPG|PNG|GIF|JPEG)$/\n            ) ? (\n              <img src={dataSource.title.children} width=\"100%\" alt=\"img\" />\n              ) : (\n                dataSource.title.children\n              )}\n          </div>\n          <div key=\"content\" {...dataSource.content}>\n            {dataSource.content.children}\n          </div>\n          <Button ghost key=\"button\" {...dataSource.button}>\n            {dataSource.button.children}\n          </Button>\n        </QueueAnim>\n        <TweenOne\n          animation={{\n            y: '-=20',\n            yoyo: true,\n            repeat: -1,\n            duration: 1000,\n          }}\n          className=\"banner0-icon\"\n          key=\"icon\"\n        >\n          <Icon type=\"down\" />\n        </TweenOne>\n      </div>\n    );\n  }\n}\nexport default Banner;\n","import React from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport { Row, Col } from 'antd';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\n\nclass Content extends React.PureComponent {\n  getBlockChildren = data => data.map((item, i) => {\n    const children = item.children;\n    return (\n      <Col key={i.toString()} {...item}>\n        <div {...children.icon}>\n          <img src={children.icon.children} width=\"100%\" alt=\"img\" />\n        </div>\n        <h3 {...children.title}>{children.title.children}</h3>\n        <p {...children.content}>{children.content.children}</p>\n      </Col>\n    );\n  });\n\n  render() {\n    const { ...props } = this.props;\n    const { dataSource } = props;\n    delete props.dataSource;\n    delete props.isMobile;\n    const listChildren = this.getBlockChildren(dataSource.block.children);\n    return (\n      <div {...props} {...dataSource.wrapper}>\n        <div {...dataSource.page}>\n          <div {...dataSource.titleWrapper}>\n            {dataSource.titleWrapper.children.map((item, i) => React.createElement(\n              item.name.indexOf('title') === 0 ? 'h1' : 'div',\n              { key: i.toString(), ...item },\n              item.children.match(\n                /\\.(svg|gif|jpg|jpeg|png|JPG|PNG|GIF|JPEG)$/\n              )\n                ? React.createElement('img', {\n                  src: item.children,\n                  height: '100%',\n                  alt: 'img',\n                })\n                : item.children\n            )\n            )}\n          </div>\n          <OverPack {...dataSource.OverPack}>\n            <QueueAnim\n              type=\"bottom\"\n              key=\"block\"\n              leaveReverse\n              {...dataSource.block}\n              component={Row}\n            >\n              {listChildren}\n            </QueueAnim>\n          </OverPack>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Content;\n","import React from 'react';\nimport TweenOne from 'rc-tween-one';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport { Tabs, Icon, Row, Col } from 'antd';\n\nconst TabPane = Tabs.TabPane;\n\nclass Content7 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: 1,\n    };\n  }\n\n  onChange = (key) => {\n    this.setState({ current: parseFloat(key) });\n  };\n\n  getBlockChildren = (item, i) => {\n    const { tag, content } = item;\n    const { text, img } = content;\n    const textChildren = text.children;\n    const { icon } = tag;\n    const iconChildren = icon.children;\n    const tagText = tag.text;\n    return (\n      <TabPane\n        key={i + 1}\n        tab={(\n          <div className={tag.className}>\n            <Icon type={iconChildren} className={icon.className} />\n            <div {...tagText}>{tagText.children}</div>\n          </div>\n        )}\n        className={item.className}\n      >\n        <TweenOne.TweenOneGroup\n          enter={{\n            y: 30,\n            delay: 300,\n            opacity: 0,\n            type: 'from',\n            ease: 'easeOutQuad',\n          }}\n          leave={null}\n          component=\"\"\n        >\n          {this.state.current === i + 1 && (\n            <Row\n              key=\"content\"\n              className={content.className}\n              gutter={content.gutter}\n            >\n              <Col className={text.className} xs={text.xs} md={text.md}>\n                {textChildren}\n              </Col>\n              <Col className={img.className} xs={img.xs} md={img.md}>\n                <img src={img.children} width=\"100%\" alt=\"img\" />\n              </Col>\n            </Row>\n          )}\n        </TweenOne.TweenOneGroup>\n      </TabPane>\n    );\n  };\n\n  render() {\n    const { ...props } = this.props;\n    const { dataSource } = props;\n    delete props.dataSource;\n    delete props.isMobile;\n    const tabsChildren = dataSource.block.children.map(this.getBlockChildren);\n    return (\n      <div {...props} {...dataSource.wrapper}>\n        <div {...dataSource.page}>\n          <div {...dataSource.titleWrapper}>\n            {dataSource.titleWrapper.children.map((item, i) => React.createElement(\n              item.name.indexOf('title') === 0 ? 'h1' : 'div',\n              { key: i.toString(), ...item },\n              item.children.match(\n                /\\.(svg|gif|jpg|jpeg|png|JPG|PNG|GIF|JPEG)$/\n              )\n                ? React.createElement('img', {\n                  src: item.children,\n                  alt: 'img',\n                })\n                : item.children\n            )\n            )}\n          </div>\n\n          <OverPack {...dataSource.OverPack}>\n            <TweenOne.TweenOneGroup\n              key=\"tabs\"\n              enter={{\n                y: 30,\n                opacity: 0,\n                delay: 200,\n                type: 'from',\n              }}\n              leave={{ y: 30, opacity: 0 }}\n              {...dataSource.tabsWrapper}\n            >\n              <Tabs\n                key=\"tabs\"\n                onChange={this.onChange}\n                activeKey={`${this.state.current}`}\n                {...dataSource.block}\n              >\n                {tabsChildren}\n              </Tabs>\n            </TweenOne.TweenOneGroup>\n          </OverPack>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Content7;\n","import React from 'react';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport QueueAnim from 'rc-queue-anim';\n\nclass Content13 extends React.PureComponent {\n  render() {\n    const { ...props } = this.props;\n    const { dataSource } = props;\n    delete props.dataSource;\n    delete props.isMobile;\n    return (\n      <OverPack {...props} {...dataSource.OverPack}>\n        <QueueAnim\n          type=\"bottom\"\n          leaveReverse\n          key=\"page\"\n          delay={[0, 100]}\n          {...dataSource.titleWrapper}\n        >\n          {dataSource.titleWrapper.children.map((item, i) => React.createElement(\n            item.name.indexOf('title') === 0 ? 'h1' : 'div',\n            { key: i.toString(), ...item },\n            item.children.match(/\\.(svg|gif|jpg|jpeg|png|JPG|PNG|GIF|JPEG)$/)\n              ? React.createElement('img', { src: item.children, alt: 'img' })\n              : item.children\n          )\n          )}\n        </QueueAnim>\n      </OverPack>\n    );\n  }\n}\n\nexport default Content13;\n","import React from 'react';\n\nexport const Nav00DataSource = {\n  wrapper: { className: 'header0 home-page-wrapper' },\n  page: { className: 'home-page' },\n  logo: {\n    className: 'header0-logo',\n    children: '玖读平台',\n  },\n  Menu: {\n    className: 'header0-menu',\n    children: [\n      { name: 'item0', a: { children: '首页', href: '/' } },\n      { name: 'item1', a: { children: '书城', href: '/page2' } },\n      { name: 'item2', a: { children: '书架', href: '/page3' } },\n      { name: 'item3', a: { children: '登录', href: '/session' } },\n    ],\n  },\n  mobileMenu: { className: 'header0-mobile-menu' },\n};\nexport const Banner00DataSource = {\n  wrapper: { className: 'banner0' },\n  textWrapper: { className: 'banner0-text-wrapper' },\n  title: {\n    className: 'banner0-title',\n    children: 'logo.svg',\n  },\n  content: {\n    className: 'banner0-content',\n    children: (\n      <span>\n        <p>玖读</p>\n        <p>epub电子书阅读平台</p>\n      </span>\n    ),\n  },\n  button: { className: 'banner0-button', children: 'Learn More' },\n};\nexport const Content00DataSource = {\n  wrapper: { className: 'home-page-wrapper content0-wrapper' },\n  page: { className: 'home-page content0' },\n  OverPack: { playScale: 0.3, className: '' },\n  titleWrapper: {\n    className: 'title-wrapper',\n    children: [{ name: 'title', children: '综合阅读体验' }],\n  },\n  block: {\n    className: 'block-wrapper',\n    children: [\n      {\n        name: 'block0',\n        className: 'block',\n        md: 8,\n        xs: 24,\n        children: {\n          icon: {\n            className: 'icon',\n            children:\n              'https://zos.alipayobjects.com/rmsportal/WBnVOjtIlGWbzyQivuyq.png',\n          },\n          title: { children: '书城浏览' },\n          content: { children: '每本书都有动画场景' },\n        },\n      },\n      {\n        name: 'block1',\n        className: 'block',\n        md: 8,\n        xs: 24,\n        children: {\n          icon: {\n            className: 'icon',\n            children:\n              'https://zos.alipayobjects.com/rmsportal/YPMsLQuCEXtuEkmXTTdk.png',\n          },\n          title: { children: '加入书架' },\n          content: { children: '用户看到感兴趣的书在登录后可以加入书架' },\n        },\n      },\n      {\n        name: 'block2',\n        className: 'block',\n        md: 8,\n        xs: 24,\n        children: {\n          icon: {\n            className: 'icon',\n            children:\n              'https://zos.alipayobjects.com/rmsportal/EkXWVvAaFJKCzhMmQYiX.png',\n          },\n          title: { children: '支持epub' },\n          content: { children: '在每日的阅读中积累知识' },\n        },\n      },\n    ],\n  },\n};\nexport const Content70DataSource = {\n  wrapper: { className: 'home-page-wrapper content7-wrapper' },\n  page: { className: 'home-page content7' },\n  OverPack: {},\n  titleWrapper: {\n    className: 'title-wrapper',\n    children: [\n      {\n        name: 'title',\n        children: '蚂蚁金融云提供专业的服务',\n        className: 'title-h1',\n      },\n      { name: 'content', children: '基于阿里云计算强大的基础资源' },\n    ],\n  },\n  tabsWrapper: { className: 'content7-tabs-wrapper' },\n  block: {\n    children: [\n      {\n        name: 'block0',\n        tag: {\n          className: 'content7-tag',\n          text: { children: 'PHONE', className: 'content7-tag-name' },\n          icon: { children: 'mobile' },\n        },\n        content: {\n          className: 'content7-content',\n          text: {\n            className: 'content7-text',\n            md: 14,\n            xs: 24,\n            children: (\n              <span>\n                <h3>技术</h3>\n                <p>\n                  丰富的技术组件，简单组装即可快速搭建金融级应用，丰富的技术组件，简单组装即可快速搭建金融级应用。\n                </p>\n                <br />\n                <h3>融合</h3>\n                <p>\n                  解放业务及技术生产力，推动金融服务底层创新，推动金融服务底层创新。解放业务及技术生产力，推动金融服务底层创新。\n                </p>\n                <br />\n                <h3>\n                  开放\n                </h3>\n                符合金融及要求的安全可靠、高可用、高性能的服务能力，符合金融及要求的安全可靠、高可用、高性能的服务能力。\n              </span>\n            ),\n          },\n          img: {\n            className: 'content7-img',\n            children:\n              'https://zos.alipayobjects.com/rmsportal/xBrUaDROgtFBRRL.png',\n            md: 10,\n            xs: 24,\n          },\n        },\n      },\n      {\n        name: 'block1',\n        tag: {\n          className: 'content7-tag',\n          icon: { children: 'tablet' },\n          text: { className: 'content7-tag-name', children: 'TABLET' },\n        },\n        content: {\n          className: 'content7-content',\n          text: {\n            className: 'content7-text',\n            md: 14,\n            xs: 24,\n            children: (\n              <span>\n                <h3>技术</h3>\n                <p>\n                  丰富的技术组件，简单组装即可快速搭建金融级应用，丰富的技术组件，简单组装即可快速搭建金融级应用。\n                </p>\n                <br />\n                <h3>融合</h3>\n                <p>\n                  解放业务及技术生产力，推动金融服务底层创新，推动金融服务底层创新。解放业务及技术生产力，推动金融服务底层创新。\n                </p>\n                <br />\n                <h3>\n                  开放\n                </h3>\n                符合金融及要求的安全可靠、高可用、高性能的服务能力，符合金融及要求的安全可靠、高可用、高性能的服务能力。\n              </span>\n            ),\n          },\n          img: {\n            className: 'content7-img',\n            md: 10,\n            xs: 24,\n            children:\n              'https://zos.alipayobjects.com/rmsportal/xBrUaDROgtFBRRL.png',\n          },\n        },\n      },\n      {\n        name: 'block2',\n        tag: {\n          className: 'content7-tag',\n          text: { children: 'DESKTOP', className: 'content7-tag-name' },\n          icon: { children: 'laptop' },\n        },\n        content: {\n          className: 'content7-content',\n          text: {\n            className: 'content7-text',\n            md: 14,\n            xs: 24,\n            children: (\n              <span>\n                <h3>技术</h3>\n                <p>\n                  丰富的技术组件，简单组装即可快速搭建金融级应用，丰富的技术组件，简单组装即可快速搭建金融级应用。\n                </p>\n                <br />\n                <h3>融合</h3>\n                <p>\n                  解放业务及技术生产力，推动金融服务底层创新，推动金融服务底层创新。解放业务及技术生产力，推动金融服务底层创新。\n                </p>\n                <br />\n                <h3>\n                  开放\n                </h3>\n                符合金融及要求的安全可靠、高可用、高性能的服务能力，符合金融及要求的安全可靠、高可用、高性能的服务能力。\n              </span>\n            ),\n          },\n          img: {\n            className: 'content7-img',\n            md: 10,\n            xs: 24,\n            children:\n              'https://zos.alipayobjects.com/rmsportal/xBrUaDROgtFBRRL.png',\n          },\n        },\n      },\n    ],\n  },\n};\nexport const Content130DataSource = {\n  OverPack: {\n    className:\n      'home-page-wrapper content13-wrapper home-page-wrapper content13-wrapper jnwq7vhwgqg-editor_css',\n    playScale: 0.3,\n  },\n  titleWrapper: {\n    className: 'title-wrapper',\n    children: [\n      { name: 'title', children: '开始你的阅读之旅吧', className: 'title-h1' },\n      {\n        name: 'content',\n        children:\n          '在书城查找你感兴趣的书，感受svg动画体验',\n        className: 'title-content',\n      },\n      {\n        name: 'content2',\n        children: '登录后即可加入书架开始阅读',\n        className: 'title-content',\n      },\n    ],\n  },\n};\nexport const Content120DataSource = {\n  wrapper: { className: 'home-page-wrapper content12-wrapper' },\n  page: { className: 'home-page content12' },\n  OverPack: { playScale: 0.3, className: '' },\n  titleWrapper: {\n    className: 'title-wrapper',\n    children: [{ name: 'title', children: '特别鸣谢', className: 'title-h1' }],\n  },\n  block: {\n    className: 'img-wrapper',\n    children: [\n      {\n        name: 'block0',\n        className: 'block',\n        md: 8,\n        xs: 24,\n        children: {\n          wrapper: { className: 'block-content' },\n          img: {\n            children:\n              'https://gw.alipayobjects.com/zos/rmsportal/TFicUVisNHTOEeMYXuQF.svg',\n          },\n        },\n      },\n      {\n        name: 'block1',\n        className: 'block',\n        md: 8,\n        xs: 24,\n        children: {\n          wrapper: { className: 'block-content' },\n          img: {\n            children:\n              'https://gw.alipayobjects.com/zos/rmsportal/hkLGkrlCEkGZeMQlnEkD.svg',\n          },\n        },\n      },\n      {\n        name: 'block2',\n        className: 'block',\n        md: 8,\n        xs: 24,\n        children: {\n          wrapper: { className: 'block-content' },\n          img: {\n            children:\n              'https://gw.alipayobjects.com/zos/rmsportal/bqyPRSZmhvrsfJrBvASi.svg',\n          },\n        },\n      },\n      {\n        name: 'block3',\n        className: 'block',\n        md: 8,\n        xs: 24,\n        children: {\n          wrapper: { className: 'block-content' },\n          img: {\n            children:\n              'https://gw.alipayobjects.com/zos/rmsportal/UcsyszzOabdCYDkoPPnM.svg',\n          },\n        },\n      },\n      {\n        name: 'block4',\n        className: 'block',\n        md: 8,\n        xs: 24,\n        children: {\n          wrapper: { className: 'block-content' },\n          img: {\n            children:\n              'https://gw.alipayobjects.com/zos/rmsportal/kRBeaICGexAmVjqBEqgw.svg',\n          },\n        },\n      },\n      {\n        name: 'block5',\n        className: 'block',\n        md: 8,\n        xs: 24,\n        children: {\n          wrapper: { className: 'block-content' },\n          img: {\n            children:\n              'https://gw.alipayobjects.com/zos/rmsportal/ftBIiyJcCHpHEioRvPsV.svg',\n          },\n        },\n      },\n    ],\n  },\n};\nexport const Footer00DataSource = {\n  wrapper: { className: 'home-page-wrapper footer0-wrapper' },\n  OverPack: { className: 'home-page footer0', playScale: 0.05 },\n  copyright: {\n    className: 'copyright',\n    children: (\n      <span>\n        ©2019 同济大学软件学院web课程项目 made by 白皓月\n      </span>\n    ),\n  },\n};\n","import React from 'react';\nimport { Row, Col } from 'antd';\nimport { TweenOneGroup } from 'rc-tween-one';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\n\nclass Content12 extends React.PureComponent {\n  getChildrenToRender = data => data.map((item) => {\n    return (\n      <Col key={item.name} {...item}>\n        <div {...item.children.wrapper}>\n          <span {...item.children.img}>\n            <img src={item.children.img.children} alt=\"img\" />\n          </span>\n        </div>\n      </Col>\n    );\n  });\n\n  render() {\n    const { ...props } = this.props;\n    const { dataSource } = props;\n    delete props.dataSource;\n    delete props.isMobile;\n    const childrenToRender = this.getChildrenToRender(\n      dataSource.block.children\n    );\n    return (\n      <div {...props} {...dataSource.wrapper}>\n        <div {...dataSource.page}>\n          <div key=\"title\" {...dataSource.titleWrapper}>\n            {dataSource.titleWrapper.children.map((item, i) => React.createElement(\n              item.name.indexOf('title') === 0 ? 'h1' : 'div',\n              { key: i.toString(), ...item },\n              item.children.match(\n                /\\.(svg|gif|jpg|jpeg|png|JPG|PNG|GIF|JPEG)$/\n              )\n                ? React.createElement('img', {\n                  src: item.children,\n                  alt: 'img',\n                })\n                : item.children\n            )\n            )}\n          </div>\n          <OverPack\n            className={`content-template ${props.className}`}\n            {...dataSource.OverPack}\n          >\n            <TweenOneGroup\n              component={Row}\n              key=\"ul\"\n              enter={{\n                y: '+=30',\n                opacity: 0,\n                type: 'from',\n                ease: 'easeOutQuad',\n              }}\n              leave={{ y: '+=30', opacity: 0, ease: 'easeOutQuad' }}\n              {...dataSource.block}\n            >\n              {childrenToRender}\n            </TweenOneGroup>\n          </OverPack>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Content12;\n","export const RECEIVE_ERRORS = \"RECEIVE_ERRORS\";\r\nexport const CLEAR_ERRORS = 'CLEAR_ERRORS';\r\n\r\nexport const receiveErrors = errors => {\r\n    return {\r\n        type: RECEIVE_ERRORS,\r\n        errors\r\n    };\r\n};\r\n\r\nexport const clearErrors = (errors) => {\r\n    return {\r\n        type: CLEAR_ERRORS,\r\n        errors\r\n    };\r\n};\r\n","\r\nimport { receiveErrors } from './error_actions';\r\nexport const RECEIVE_CURRENT_USER = 'RECEIVE_CURRENT_USER';\r\n\r\nexport const receiveCurrentUser = currentUser => ({\r\n    type: RECEIVE_CURRENT_USER,\r\n    currentUser\r\n});\r\n\r\nconst proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\nexport const logout = () => ({\r\n    type:'LOGOUT'\r\n})\r\n\r\nexport const login = user => dispatch => (\r\n    fetch( window.webBase+\"api/session\", {\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        method: 'POST',\r\n        body: JSON.stringify(user)\r\n    }).then(res=>res.json()).then(json => (\r\n        dispatch(receiveCurrentUser(json))\r\n    ), err => (\r\n        dispatch(receiveErrors(err))\r\n\r\n    ))\r\n);\r\n\r\nexport const register = user => dispatch => (\r\n    fetch( window.webBase+\"/api/user\", {\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        method: 'POST',\r\n        body: JSON.stringify(user)\r\n    }).then(res=>res.json()).then(json => (\r\n        dispatch(receiveCurrentUser(json))\r\n    ), err => (\r\n        dispatch(receiveErrors(err))\r\n    ))\r\n);\r\n\r\n\r\n\r\n","/* eslint no-undef: 0 */\r\n/* eslint arrow-parens: 0 */\r\nimport React from 'react';\r\nimport {withRouter} from \"react-router\";\r\nimport {connect} from \"react-redux\";\r\nimport {List, Rate, Icon, Button} from 'antd';\r\nimport \"./index.css\"\r\nimport { Link } from 'react-router-dom';\r\nimport {receiveErrors} from \"../../actions/error_actions\";\r\nimport {receiveCurrentUser} from \"../../actions/session_actions\";\r\nconst IconText = ({ type, text }) => (\r\n    <span>\r\n    <Icon type={type} style={{ marginRight: 8 }} />\r\n        {text}\r\n  </span>\r\n);\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n        };\r\n        this.delete_bookshelf =this.delete_bookshelf.bind(this);\r\n        this.fetchBookshelf = this.fetchBookshelf(this);\r\n    }\r\n    //只在本组件用不再使用redux\r\n\r\n\r\n    componentWillMount() {\r\n        if(this.props.currentUser != null) {\r\n            fetch(window.webBase+\"api/bookshelf/\" + this.props.currentUser.id).then(res=>res.json()).then(\r\n                json=>{\r\n                    let myBookShelf=[];\r\n                    if(this.props.books!=null)\r\n                        for(let tmp of json) {\r\n                            myBookShelf.push(this.props.books[tmp.book_id]);\r\n                        }\r\n                    this.setState({\r\n                        data: myBookShelf,\r\n                    });\r\n                }\r\n            )\r\n        }\r\n    }\r\n    fetchBookshelf() {\r\n\r\n    }\r\n    delete_bookshelf(bookID) {\r\n        let user = {\r\n            user_id:this.props.currentUser.id,\r\n            book_id:bookID\r\n        };\r\n        fetch( window.webBase+\"api/delete_bookshelf\", {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            method: 'POST',\r\n            body: JSON.stringify(user)\r\n        }).then(res=>{\r\n            fetch(window.webBase+\"api/bookshelf/\" + this.props.currentUser.id).then(res=>res.json()).then(\r\n                json=>{\r\n                    let myBookShelf=[];\r\n                    if(this.props.books!=null)\r\n                        for(let tmp of json) {\r\n                            myBookShelf.push(this.props.books[tmp.book_id]);\r\n                        }\r\n                    this.setState({\r\n                        data: myBookShelf,\r\n                    });\r\n                }\r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div\r\n                className=\"templates-wrapper\"\r\n                ref={(d) => {\r\n                    this.dom = d;\r\n                }}\r\n            >\r\n\r\n                <div style={{ background: '#fff', padding: 24, minHeight: 280 }}>\r\n                    <h1>我的书架</h1>\r\n\r\n                    <List\r\n                        className=\"list\"\r\n                        itemLayout=\"vertical\"\r\n                        size=\"large\"\r\n                        dataSource={this.state.data}\r\n                        footer={< div > <b>我的</b> 书架</div >}\r\n                        renderItem={\r\n                            item => (\r\n\r\n                                <List.Item\r\n                                    key={item.title}\r\n                                    actions={[<Rate disabled defaultValue={parseFloat(item.rating)}\r\n                                                    allowHalf tooltips={[item.rating,item.rating,item.rating,item.rating,item.rating]}/>,\r\n                                        <IconText type=\"edit\" text={item.rating+\"分\"}/>,\r\n                                        <IconText type=\"user\" text={item.author}/>,\r\n                                        <Link to={`/page2/reader/`+item.title}><Button>开始阅读</Button></Link>,\r\n                                        <Button onClick={this.delete_bookshelf.bind(this,item.id)}>移出书架</Button>\r\n                                    ]\r\n                                    }\r\n                                    extra={<img width={100} alt=\"logo\" src= {item.cover_image_url} />}\r\n                                >\r\n\r\n                                    <List.Item.Meta\r\n                                        //avatar={<Avatar shape = \"square\" size = {150} src={item.poster} width = {100} alt=\"logo\"/>}\r\n                                        title={  item.title}\r\n                                        description={item.description}\r\n                                    />\r\n                                </List.Item>)}\r\n                    />\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        books:state.books,\r\n        currentUser: state.session.currentUser\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n});\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Index));","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport {withRouter} from 'react-router';\r\n\r\n\r\n\r\n\r\nclass BookGallery extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render(){\r\n        if (this.props.books) {\r\n            let allbooks = this.props.books.map( (book, index) =>  {\r\n                var id = book.book_id || book.id;\r\n                return (\r\n\r\n                    <div className='div-book' key= {(index)}>\r\n                        <Link to={`/page2/${id}`}>\r\n                            <img className='front-image' src={book.cover_image_url} alt={book.title} />\r\n                        </Link>\r\n                    </div>\r\n\r\n                );\r\n            });\r\n            return (\r\n                <div className='index-main'>\r\n                <div className='book-index-div'>\r\n                    <div className='book-index-lower-div'>\r\n\r\n                        { allbooks }\r\n                    </div>\r\n\r\n                </div>\r\n                </div>\r\n            );\r\n        } else {\r\n            return (\r\n                <h1>None</h1>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(BookGallery);\r\n","import React from 'react';\r\nimport {withRouter} from 'react-router';\r\n\r\nimport BookGallery from './book_gallery';\r\nimport \"./index.scss\"\r\n\r\nclass BookIndex extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.requestBookIndex();\r\n    }\r\n\r\n\r\n    render() {\r\n        return <BookGallery books={this.props.books} />;\r\n    }\r\n}\r\n\r\nexport default withRouter(BookIndex);\r\n","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport BookIndex from './index';\r\nimport { requestBookIndex } from '../../actions/book_actions';\r\nimport { selectAllBooks } from '../../reducers/selectors';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        //将对象转化为数组，方便后续使用map\r\n        books: selectAllBooks(state.books),\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    requestBookIndex: () => dispatch(requestBookIndex()),\r\n});\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(BookIndex));\r\n","import { values } from 'lodash';\r\n\r\nexport const selectAllBooks = (books) => {\r\n    return values(books);\r\n};","\r\nexport const RECEIVE_BOOKS = 'RECEIVE_BOOKS';\r\nexport const RECEIVE_ONE_BOOK = 'RECEIVE_ONE_BOOK';\r\nexport const RECEIVE_COMMENT= 'RECEIVE_COMMENT';\r\nexport const receiveBooks = book => ({\r\n    type: RECEIVE_BOOKS,\r\n    book\r\n});\r\nexport const receiveOneBook = book => {\r\n    return (\r\n        {\r\n            type: RECEIVE_ONE_BOOK,\r\n            book\r\n        }\r\n    );\r\n};\r\nexport const receiveComment = comment => ({\r\n    type: RECEIVE_COMMENT,\r\n    comment\r\n});\r\n\r\nexport const requestBookIndex = () => dispatch => (\r\n    fetch(window.webBase+\"api/books\").then(payload => (\r\n            payload.json())\r\n    .then(json=>{\r\n        //console.log(json);\r\n        dispatch(receiveBooks(json));\r\n    }),json=>{\r\n        console.log(\"error\")\r\n    })\r\n);\r\n\r\n","import { DefaultLoadingManager, FileLoader, Matrix3, Path, ShapePath, Vector2, Vector3 } from 'three'\r\n/**\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author zz85 / http://joshuakoo.com/\r\n * @author yomboprime / https://yombo.org\r\n */\r\n\r\nvar SVGLoader = function(manager) {\r\n    this.manager = manager !== undefined ? manager : DefaultLoadingManager\r\n}\r\n\r\nSVGLoader.prototype = {\r\n    constructor: SVGLoader,\r\n\r\n    load: function(url, onLoad, onProgress, onError) {\r\n        var scope = this\r\n\r\n        var loader = new FileLoader(scope.manager)\r\n        loader.setPath(scope.path)\r\n        loader.load(\r\n            url,\r\n            function(text) {\r\n                onLoad(scope.parse(text))\r\n            },\r\n            onProgress,\r\n            onError,\r\n        )\r\n    },\r\n\r\n    setPath: function(value) {\r\n        this.path = value\r\n        return this\r\n    },\r\n\r\n    parse: function(text) {\r\n        function parseNode(node, style) {\r\n            if (node.nodeType !== 1) return\r\n\r\n            var transform = getNodeTransform(node)\r\n\r\n            var path = null\r\n\r\n            switch (node.nodeName) {\r\n                case 'svg':\r\n                    break\r\n\r\n                case 'g':\r\n                    style = parseStyle(node, style)\r\n                    break\r\n\r\n                case 'path':\r\n                    style = parseStyle(node, style)\r\n                    if (node.hasAttribute('d') && isVisible(style)) path = parsePathNode(node, style)\r\n                    break\r\n\r\n                case 'rect':\r\n                    style = parseStyle(node, style)\r\n                    if (isVisible(style)) path = parseRectNode(node, style)\r\n                    break\r\n\r\n                case 'polygon':\r\n                    style = parseStyle(node, style)\r\n                    if (isVisible(style)) path = parsePolygonNode(node, style)\r\n                    break\r\n\r\n                case 'polyline':\r\n                    style = parseStyle(node, style)\r\n                    if (isVisible(style)) path = parsePolylineNode(node, style)\r\n                    break\r\n\r\n                case 'circle':\r\n                    style = parseStyle(node, style)\r\n                    if (isVisible(style)) path = parseCircleNode(node, style)\r\n                    break\r\n\r\n                case 'ellipse':\r\n                    style = parseStyle(node, style)\r\n                    if (isVisible(style)) path = parseEllipseNode(node, style)\r\n                    break\r\n\r\n                case 'line':\r\n                    style = parseStyle(node, style)\r\n                    if (isVisible(style)) path = parseLineNode(node, style)\r\n                    break\r\n            }\r\n\r\n            if (path) {\r\n                transformPath(path, currentTransform)\r\n\r\n                paths.push(path)\r\n            }\r\n\r\n            var nodes = node.childNodes\r\n\r\n            for (var i = 0; i < nodes.length; i++) {\r\n                parseNode(nodes[i], style)\r\n            }\r\n\r\n            if (transform) {\r\n                currentTransform.copy(transformStack.pop())\r\n            }\r\n        }\r\n\r\n        function parsePathNode(node, style) {\r\n            var path = new ShapePath()\r\n            path.color.setStyle(style.fill)\r\n\r\n            var point = new Vector2()\r\n            var control = new Vector2()\r\n\r\n            var firstPoint = new Vector2()\r\n            var isFirstPoint = true\r\n            var doSetFirstPoint = false\r\n\r\n            var d = node.getAttribute('d')\r\n\r\n            // console.log( d );\r\n\r\n            var commands = d.match(/[a-df-z][^a-df-z]*/gi)\r\n\r\n            for (var i = 0, l = commands.length; i < l; i++) {\r\n                var command = commands[i]\r\n\r\n                var type = command.charAt(0)\r\n                var data = command.substr(1).trim()\r\n\r\n                if (isFirstPoint === true) {\r\n                    doSetFirstPoint = true\r\n                    isFirstPoint = false\r\n                }\r\n\r\n                switch (type) {\r\n                    case 'M':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 2) {\r\n                            point.x = numbers[j + 0]\r\n                            point.y = numbers[j + 1]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            if (j === 0) {\r\n                                path.moveTo(point.x, point.y)\r\n                            } else {\r\n                                path.lineTo(point.x, point.y)\r\n                            }\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'H':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j++) {\r\n                            point.x = numbers[j]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            path.lineTo(point.x, point.y)\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'V':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j++) {\r\n                            point.y = numbers[j]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            path.lineTo(point.x, point.y)\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'L':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 2) {\r\n                            point.x = numbers[j + 0]\r\n                            point.y = numbers[j + 1]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            path.lineTo(point.x, point.y)\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'C':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 6) {\r\n                            path.bezierCurveTo(\r\n                                numbers[j + 0],\r\n                                numbers[j + 1],\r\n                                numbers[j + 2],\r\n                                numbers[j + 3],\r\n                                numbers[j + 4],\r\n                                numbers[j + 5],\r\n                            )\r\n                            control.x = numbers[j + 2]\r\n                            control.y = numbers[j + 3]\r\n                            point.x = numbers[j + 4]\r\n                            point.y = numbers[j + 5]\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'S':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 4) {\r\n                            path.bezierCurveTo(\r\n                                getReflection(point.x, control.x),\r\n                                getReflection(point.y, control.y),\r\n                                numbers[j + 0],\r\n                                numbers[j + 1],\r\n                                numbers[j + 2],\r\n                                numbers[j + 3],\r\n                            )\r\n                            control.x = numbers[j + 0]\r\n                            control.y = numbers[j + 1]\r\n                            point.x = numbers[j + 2]\r\n                            point.y = numbers[j + 3]\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'Q':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 4) {\r\n                            path.quadraticCurveTo(numbers[j + 0], numbers[j + 1], numbers[j + 2], numbers[j + 3])\r\n                            control.x = numbers[j + 0]\r\n                            control.y = numbers[j + 1]\r\n                            point.x = numbers[j + 2]\r\n                            point.y = numbers[j + 3]\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'T':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 2) {\r\n                            var rx = getReflection(point.x, control.x)\r\n                            var ry = getReflection(point.y, control.y)\r\n                            path.quadraticCurveTo(rx, ry, numbers[j + 0], numbers[j + 1])\r\n                            control.x = rx\r\n                            control.y = ry\r\n                            point.x = numbers[j + 0]\r\n                            point.y = numbers[j + 1]\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'A':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 7) {\r\n                            var start = point.clone()\r\n                            point.x = numbers[j + 5]\r\n                            point.y = numbers[j + 6]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            parseArcCommand(\r\n                                path,\r\n                                numbers[j],\r\n                                numbers[j + 1],\r\n                                numbers[j + 2],\r\n                                numbers[j + 3],\r\n                                numbers[j + 4],\r\n                                start,\r\n                                point,\r\n                            )\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    //\r\n\r\n                    case 'm':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 2) {\r\n                            point.x += numbers[j + 0]\r\n                            point.y += numbers[j + 1]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            if (j === 0) {\r\n                                path.moveTo(point.x, point.y)\r\n                            } else {\r\n                                path.lineTo(point.x, point.y)\r\n                            }\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'h':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j++) {\r\n                            point.x += numbers[j]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            path.lineTo(point.x, point.y)\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'v':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j++) {\r\n                            point.y += numbers[j]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            path.lineTo(point.x, point.y)\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'l':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 2) {\r\n                            point.x += numbers[j + 0]\r\n                            point.y += numbers[j + 1]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            path.lineTo(point.x, point.y)\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'c':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 6) {\r\n                            path.bezierCurveTo(\r\n                                point.x + numbers[j + 0],\r\n                                point.y + numbers[j + 1],\r\n                                point.x + numbers[j + 2],\r\n                                point.y + numbers[j + 3],\r\n                                point.x + numbers[j + 4],\r\n                                point.y + numbers[j + 5],\r\n                            )\r\n                            control.x = point.x + numbers[j + 2]\r\n                            control.y = point.y + numbers[j + 3]\r\n                            point.x += numbers[j + 4]\r\n                            point.y += numbers[j + 5]\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 's':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 4) {\r\n                            path.bezierCurveTo(\r\n                                getReflection(point.x, control.x),\r\n                                getReflection(point.y, control.y),\r\n                                point.x + numbers[j + 0],\r\n                                point.y + numbers[j + 1],\r\n                                point.x + numbers[j + 2],\r\n                                point.y + numbers[j + 3],\r\n                            )\r\n                            control.x = point.x + numbers[j + 0]\r\n                            control.y = point.y + numbers[j + 1]\r\n                            point.x += numbers[j + 2]\r\n                            point.y += numbers[j + 3]\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'q':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 4) {\r\n                            path.quadraticCurveTo(\r\n                                point.x + numbers[j + 0],\r\n                                point.y + numbers[j + 1],\r\n                                point.x + numbers[j + 2],\r\n                                point.y + numbers[j + 3],\r\n                            )\r\n                            control.x = point.x + numbers[j + 0]\r\n                            control.y = point.y + numbers[j + 1]\r\n                            point.x += numbers[j + 2]\r\n                            point.y += numbers[j + 3]\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 't':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 2) {\r\n                            var rx = getReflection(point.x, control.x)\r\n                            var ry = getReflection(point.y, control.y)\r\n                            path.quadraticCurveTo(rx, ry, point.x + numbers[j + 0], point.y + numbers[j + 1])\r\n                            control.x = rx\r\n                            control.y = ry\r\n                            point.x = point.x + numbers[j + 0]\r\n                            point.y = point.y + numbers[j + 1]\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    case 'a':\r\n                        var numbers = parseFloats(data)\r\n                        for (var j = 0, jl = numbers.length; j < jl; j += 7) {\r\n                            var start = point.clone()\r\n                            point.x += numbers[j + 5]\r\n                            point.y += numbers[j + 6]\r\n                            control.x = point.x\r\n                            control.y = point.y\r\n                            parseArcCommand(\r\n                                path,\r\n                                numbers[j],\r\n                                numbers[j + 1],\r\n                                numbers[j + 2],\r\n                                numbers[j + 3],\r\n                                numbers[j + 4],\r\n                                start,\r\n                                point,\r\n                            )\r\n                            if (j === 0 && doSetFirstPoint === true) firstPoint.copy(point)\r\n                        }\r\n                        break\r\n\r\n                    //\r\n\r\n                    case 'Z':\r\n                    case 'z':\r\n                        path.currentPath.autoClose = true\r\n                        if (path.currentPath.curves.length > 0) {\r\n                            // Reset point to beginning of Path\r\n                            point.copy(firstPoint)\r\n                            path.currentPath.currentPoint.copy(point)\r\n                            isFirstPoint = true\r\n                        }\r\n                        break\r\n                }\r\n\r\n                // console.log( type, parseFloats( data ), parseFloats( data ).length  )\r\n\r\n                doSetFirstPoint = false\r\n            }\r\n\r\n            return path\r\n        }\r\n\r\n        /**\r\n         * https://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\r\n         * https://mortoray.com/2017/02/16/rendering-an-svg-elliptical-arc-as-bezier-curves/ Appendix: Endpoint to center arc conversion\r\n         * From\r\n         * rx ry x-axis-rotation large-arc-flag sweep-flag x y\r\n         * To\r\n         * aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation\r\n         */\r\n\r\n        function parseArcCommand(path, rx, ry, x_axis_rotation, large_arc_flag, sweep_flag, start, end) {\r\n            x_axis_rotation = (x_axis_rotation * Math.PI) / 180\r\n\r\n            // Ensure radii are positive\r\n            rx = Math.abs(rx)\r\n            ry = Math.abs(ry)\r\n\r\n            // Compute (x1′, y1′)\r\n            var dx2 = (start.x - end.x) / 2.0\r\n            var dy2 = (start.y - end.y) / 2.0\r\n            var x1p = Math.cos(x_axis_rotation) * dx2 + Math.sin(x_axis_rotation) * dy2\r\n            var y1p = -Math.sin(x_axis_rotation) * dx2 + Math.cos(x_axis_rotation) * dy2\r\n\r\n            // Compute (cx′, cy′)\r\n            var rxs = rx * rx\r\n            var rys = ry * ry\r\n            var x1ps = x1p * x1p\r\n            var y1ps = y1p * y1p\r\n\r\n            // Ensure radii are large enough\r\n            var cr = x1ps / rxs + y1ps / rys\r\n\r\n            if (cr > 1) {\r\n                // scale up rx,ry equally so cr == 1\r\n                var s = Math.sqrt(cr)\r\n                rx = s * rx\r\n                ry = s * ry\r\n                rxs = rx * rx\r\n                rys = ry * ry\r\n            }\r\n\r\n            var dq = rxs * y1ps + rys * x1ps\r\n            var pq = (rxs * rys - dq) / dq\r\n            var q = Math.sqrt(Math.max(0, pq))\r\n            if (large_arc_flag === sweep_flag) q = -q\r\n            var cxp = (q * rx * y1p) / ry\r\n            var cyp = (-q * ry * x1p) / rx\r\n\r\n            // Step 3: Compute (cx, cy) from (cx′, cy′)\r\n            var cx = Math.cos(x_axis_rotation) * cxp - Math.sin(x_axis_rotation) * cyp + (start.x + end.x) / 2\r\n            var cy = Math.sin(x_axis_rotation) * cxp + Math.cos(x_axis_rotation) * cyp + (start.y + end.y) / 2\r\n\r\n            // Step 4: Compute θ1 and Δθ\r\n            var theta = svgAngle(1, 0, (x1p - cxp) / rx, (y1p - cyp) / ry)\r\n            var delta = svgAngle((x1p - cxp) / rx, (y1p - cyp) / ry, (-x1p - cxp) / rx, (-y1p - cyp) / ry) % (Math.PI * 2)\r\n\r\n            path.currentPath.absellipse(cx, cy, rx, ry, theta, theta + delta, sweep_flag === 0, x_axis_rotation)\r\n        }\r\n\r\n        function svgAngle(ux, uy, vx, vy) {\r\n            var dot = ux * vx + uy * vy\r\n            var len = Math.sqrt(ux * ux + uy * uy) * Math.sqrt(vx * vx + vy * vy)\r\n            var ang = Math.acos(Math.max(-1, Math.min(1, dot / len))) // floating point precision, slightly over values appear\r\n            if (ux * vy - uy * vx < 0) ang = -ang\r\n            return ang\r\n        }\r\n\r\n        /*\r\n         * According to https://www.w3.org/TR/SVG/shapes.html#RectElementRXAttribute\r\n         * rounded corner should be rendered to elliptical arc, but bezier curve does the job well enough\r\n         */\r\n        function parseRectNode(node, style) {\r\n            var x = parseFloat(node.getAttribute('x') || 0)\r\n            var y = parseFloat(node.getAttribute('y') || 0)\r\n            var rx = parseFloat(node.getAttribute('rx') || 0)\r\n            var ry = parseFloat(node.getAttribute('ry') || 0)\r\n            var w = parseFloat(node.getAttribute('width'))\r\n            var h = parseFloat(node.getAttribute('height'))\r\n\r\n            var path = new ShapePath()\r\n            path.color.setStyle(style.fill)\r\n            path.moveTo(x + 2 * rx, y)\r\n            path.lineTo(x + w - 2 * rx, y)\r\n            if (rx !== 0 || ry !== 0) path.bezierCurveTo(x + w, y, x + w, y, x + w, y + 2 * ry)\r\n            path.lineTo(x + w, y + h - 2 * ry)\r\n            if (rx !== 0 || ry !== 0) path.bezierCurveTo(x + w, y + h, x + w, y + h, x + w - 2 * rx, y + h)\r\n            path.lineTo(x + 2 * rx, y + h)\r\n\r\n            if (rx !== 0 || ry !== 0) {\r\n                path.bezierCurveTo(x, y + h, x, y + h, x, y + h - 2 * ry)\r\n            }\r\n\r\n            path.lineTo(x, y + 2 * ry)\r\n\r\n            if (rx !== 0 || ry !== 0) {\r\n                path.bezierCurveTo(x, y, x, y, x + 2 * rx, y)\r\n            }\r\n\r\n            return path\r\n        }\r\n\r\n        function parsePolygonNode(node, style) {\r\n            function iterator(match, a, b) {\r\n                var x = parseFloat(a)\r\n                var y = parseFloat(b)\r\n\r\n                if (index === 0) {\r\n                    path.moveTo(x, y)\r\n                } else {\r\n                    path.lineTo(x, y)\r\n                }\r\n\r\n                index++\r\n            }\r\n\r\n            var regex = /(-?[\\d\\.?]+)[,|\\s](-?[\\d\\.?]+)/g\r\n\r\n            var path = new ShapePath()\r\n            path.color.setStyle(style.fill)\r\n\r\n            var index = 0\r\n\r\n            node.getAttribute('points').replace(regex, iterator)\r\n\r\n            path.currentPath.autoClose = true\r\n\r\n            return path\r\n        }\r\n\r\n        function parsePolylineNode(node, style) {\r\n            function iterator(match, a, b) {\r\n                var x = parseFloat(a)\r\n                var y = parseFloat(b)\r\n\r\n                if (index === 0) {\r\n                    path.moveTo(x, y)\r\n                } else {\r\n                    path.lineTo(x, y)\r\n                }\r\n\r\n                index++\r\n            }\r\n\r\n            var regex = /(-?[\\d\\.?]+)[,|\\s](-?[\\d\\.?]+)/g\r\n\r\n            var path = new ShapePath()\r\n            path.color.setStyle(style.fill)\r\n\r\n            var index = 0\r\n\r\n            node.getAttribute('points').replace(regex, iterator)\r\n\r\n            path.currentPath.autoClose = false\r\n\r\n            return path\r\n        }\r\n\r\n        function parseCircleNode(node, style) {\r\n            var x = parseFloat(node.getAttribute('cx'))\r\n            var y = parseFloat(node.getAttribute('cy'))\r\n            var r = parseFloat(node.getAttribute('r'))\r\n\r\n            var subpath = new Path()\r\n            subpath.absarc(x, y, r, 0, Math.PI * 2)\r\n\r\n            var path = new ShapePath()\r\n            path.color.setStyle(style.fill)\r\n            path.subPaths.push(subpath)\r\n\r\n            return path\r\n        }\r\n\r\n        function parseEllipseNode(node, style) {\r\n            var x = parseFloat(node.getAttribute('cx'))\r\n            var y = parseFloat(node.getAttribute('cy'))\r\n            var rx = parseFloat(node.getAttribute('rx'))\r\n            var ry = parseFloat(node.getAttribute('ry'))\r\n\r\n            var subpath = new Path()\r\n            subpath.absellipse(x, y, rx, ry, 0, Math.PI * 2)\r\n\r\n            var path = new ShapePath()\r\n            path.color.setStyle(style.fill)\r\n            path.subPaths.push(subpath)\r\n\r\n            return path\r\n        }\r\n\r\n        function parseLineNode(node, style) {\r\n            var x1 = parseFloat(node.getAttribute('x1'))\r\n            var y1 = parseFloat(node.getAttribute('y1'))\r\n            var x2 = parseFloat(node.getAttribute('x2'))\r\n            var y2 = parseFloat(node.getAttribute('y2'))\r\n\r\n            var path = new ShapePath()\r\n            path.moveTo(x1, y1)\r\n            path.lineTo(x2, y2)\r\n            path.currentPath.autoClose = false\r\n\r\n            return path\r\n        }\r\n\r\n        //\r\n\r\n        function parseStyle(node, style) {\r\n            style = Object.assign({}, style) // clone style\r\n\r\n            if (node.hasAttribute('fill')) style.fill = node.getAttribute('fill')\r\n            if (node.style.fill !== '') style.fill = node.style.fill\r\n\r\n            return style\r\n        }\r\n\r\n        function isVisible(style) {\r\n            return style.fill !== 'none' && style.fill !== 'transparent'\r\n        }\r\n\r\n        // http://www.w3.org/TR/SVG11/implnote.html#PathElementImplementationNotes\r\n\r\n        function getReflection(a, b) {\r\n            return a - (b - a)\r\n        }\r\n\r\n        function parseFloats(string) {\r\n            var array = string.split(/[\\s,]+|(?=\\s?[+\\-])/)\r\n\r\n            for (var i = 0; i < array.length; i++) {\r\n                var number = array[i]\r\n\r\n                // Handle values like 48.6037.7.8\r\n                // TODO Find a regex for this\r\n\r\n                if (number.indexOf('.') !== number.lastIndexOf('.')) {\r\n                    var split = number.split('.')\r\n\r\n                    for (var s = 2; s < split.length; s++) {\r\n                        array.splice(i + s - 1, 0, '0.' + split[s])\r\n                    }\r\n                }\r\n\r\n                array[i] = parseFloat(number)\r\n            }\r\n\r\n            return array\r\n        }\r\n\r\n        function getNodeTransform(node) {\r\n            if (!node.hasAttribute('transform')) {\r\n                return null\r\n            }\r\n\r\n            var transform = parseTransformNode(node)\r\n\r\n            if (transform) {\r\n                if (transformStack.length > 0) {\r\n                    transform.premultiply(transformStack[transformStack.length - 1])\r\n                }\r\n\r\n                currentTransform.copy(transform)\r\n                transformStack.push(transform)\r\n            }\r\n\r\n            return transform\r\n        }\r\n\r\n        function parseTransformNode(node) {\r\n            var transform = new Matrix3()\r\n            var currentTransform = tempTransform0\r\n            var transformsTexts = node.getAttribute('transform').split(' ')\r\n\r\n            for (var tIndex = transformsTexts.length - 1; tIndex >= 0; tIndex--) {\r\n                var transformText = transformsTexts[tIndex]\r\n                var openParPos = transformText.indexOf('(')\r\n                var closeParPos = transformText.indexOf(')')\r\n\r\n                if (openParPos > 0 && openParPos < closeParPos) {\r\n                    var transformType = transformText.substr(0, openParPos)\r\n\r\n                    var array = parseFloats(transformText.substr(openParPos + 1, closeParPos - openParPos - 1))\r\n\r\n                    currentTransform.identity()\r\n\r\n                    switch (transformType) {\r\n                        case 'translate':\r\n                            if (array.length >= 1) {\r\n                                var tx = array[0]\r\n                                var ty = tx\r\n\r\n                                if (array.length >= 2) {\r\n                                    ty = array[1]\r\n                                }\r\n\r\n                                currentTransform.translate(tx, ty)\r\n                            }\r\n\r\n                            break\r\n\r\n                        case 'rotate':\r\n                            if (array.length >= 1) {\r\n                                var angle = 0\r\n                                var cx = 0\r\n                                var cy = 0\r\n\r\n                                // Angle\r\n                                angle = (-array[0] * Math.PI) / 180\r\n\r\n                                if (array.length >= 3) {\r\n                                    // Center x, y\r\n                                    cx = array[1]\r\n                                    cy = array[2]\r\n                                }\r\n\r\n                                // Rotate around center (cx, cy)\r\n                                tempTransform1.identity().translate(-cx, -cy)\r\n                                tempTransform2.identity().rotate(angle)\r\n                                tempTransform3.multiplyMatrices(tempTransform2, tempTransform1)\r\n                                tempTransform1.identity().translate(cx, cy)\r\n                                currentTransform.multiplyMatrices(tempTransform1, tempTransform3)\r\n                            }\r\n\r\n                            break\r\n\r\n                        case 'scale':\r\n                            if (array.length >= 1) {\r\n                                var scaleX = array[0]\r\n                                var scaleY = scaleX\r\n\r\n                                if (array.length >= 2) {\r\n                                    scaleY = array[1]\r\n                                }\r\n\r\n                                currentTransform.scale(scaleX, scaleY)\r\n                            }\r\n\r\n                            break\r\n\r\n                        case 'skewX':\r\n                            if (array.length === 1) {\r\n                                currentTransform.set(1, Math.tan((array[0] * Math.PI) / 180), 0, 0, 1, 0, 0, 0, 1)\r\n                            }\r\n\r\n                            break\r\n\r\n                        case 'skewY':\r\n                            if (array.length === 1) {\r\n                                currentTransform.set(1, 0, 0, Math.tan((array[0] * Math.PI) / 180), 1, 0, 0, 0, 1)\r\n                            }\r\n\r\n                            break\r\n\r\n                        case 'matrix':\r\n                            if (array.length === 6) {\r\n                                currentTransform.set(array[0], array[2], array[4], array[1], array[3], array[5], 0, 0, 1)\r\n                            }\r\n\r\n                            break\r\n                    }\r\n                }\r\n\r\n                transform.premultiply(currentTransform)\r\n            }\r\n\r\n            return transform\r\n        }\r\n\r\n        function transformPath(path, m) {\r\n            function transfVec2(v2) {\r\n                tempV3.set(v2.x, v2.y, 1).applyMatrix3(m)\r\n\r\n                v2.set(tempV3.x, tempV3.y)\r\n            }\r\n\r\n            var isRotated = isTransformRotated(m)\r\n\r\n            var tempV2 = new Vector2()\r\n            var tempV3 = new Vector3()\r\n\r\n            var subPaths = path.subPaths\r\n\r\n            for (var i = 0, n = subPaths.length; i < n; i++) {\r\n                var subPath = subPaths[i]\r\n                var curves = subPath.curves\r\n\r\n                for (var j = 0; j < curves.length; j++) {\r\n                    var curve = curves[j]\r\n\r\n                    if (curve.isLineCurve) {\r\n                        transfVec2(curve.v1)\r\n                        transfVec2(curve.v2)\r\n                    } else if (curve.isCubicBezierCurve) {\r\n                        transfVec2(curve.v0)\r\n                        transfVec2(curve.v1)\r\n                        transfVec2(curve.v2)\r\n                        transfVec2(curve.v3)\r\n                    } else if (curve.isQuadraticBezierCurve) {\r\n                        transfVec2(curve.v0)\r\n                        transfVec2(curve.v1)\r\n                        transfVec2(curve.v2)\r\n                    } else if (curve.isEllipseCurve) {\r\n                        tempV2.set(curve.aX, curve.aY)\r\n                        transfVec2(tempV2)\r\n                        curve.aX = tempV2.x\r\n                        curve.aY = tempV2.y\r\n\r\n                        curve.xRadius *= getTransformScaleX(m)\r\n                        curve.yRadius *= getTransformScaleY(m)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function isTransformRotated(m) {\r\n            return m.elements[1] !== 0 || m.elements[3] !== 0\r\n        }\r\n\r\n        function getTransformScaleX(m) {\r\n            var te = m.elements\r\n            return Math.sqrt(te[0] * te[0] + te[1] * te[1])\r\n        }\r\n\r\n        function getTransformScaleY(m) {\r\n            var te = m.elements\r\n            return Math.sqrt(te[3] * te[3] + te[4] * te[4])\r\n        }\r\n\r\n        //\r\n\r\n        var paths = []\r\n\r\n        var transformStack = []\r\n\r\n        var tempTransform0 = new Matrix3()\r\n        var tempTransform1 = new Matrix3()\r\n        var tempTransform2 = new Matrix3()\r\n        var tempTransform3 = new Matrix3()\r\n\r\n        var currentTransform = new Matrix3()\r\n\r\n        var xml = new DOMParser().parseFromString(text, 'image/svg+xml') // application/xml\r\n\r\n        parseNode(xml.documentElement, { fill: '#000' })\r\n\r\n        // console.log( paths );\r\n\r\n        return paths\r\n    },\r\n}\r\n\r\nexport { SVGLoader }\r\n","import * as THREE from 'three'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Canvas } from 'react-three-fiber'\r\nimport flatten from 'lodash-es/flatten'\r\nimport { SVGLoader as loader } from './SVGLoader'\r\nimport { useTransition, a } from 'react-spring/three'\r\n\r\n\r\nfunction svgLoader(id) {\r\n    const svgResource = new Promise(resolve =>\r\n        new loader().load(window.webBase+\"api/svg/\"+id, shapes =>\r\n            resolve(flatten(shapes.map((group, index) => group.toShapes(true).map(shape => ({ shape, color: group.color, index })))))\r\n        )\r\n    );\r\n    return svgResource;\r\n}\r\n\r\n\r\nfunction Scene(props) {\r\n    console.log(props.book.id);\r\n    const [shapes, set] = useState([]);\r\n    //useEffect(() => void svgLoader(1).then(set), []);\r\n    const [show, toggle] = useState(true);\r\n    useEffect(() => void setInterval(() => toggle(show => !show), 3000), []);\r\n    useEffect(() => void (!show ? set([]) : svgLoader(props.book.title).then(set)), [show]);\r\n\r\n    const transitions = useTransition(shapes, item => item.shape.uuid, {\r\n        from: { position: [-50, 0, 0], rotation: [0, -0.6, 0], opacity: 0 },\r\n        enter: { position: [0, 0, 0], rotation: [0, 0.3, 0], opacity: 1 },\r\n        leave: { position: [50, 0, 0], rotation: [0, 0.6, 0], opacity: 0 },\r\n        order: ['leave', 'enter', 'update'],\r\n        lazy: true,\r\n        trail: 5,\r\n        unique: true,\r\n        reset: true,\r\n    })\r\n    const deg = THREE.Math.degToRad;\r\n    return (\r\n        <a.group position={[500, -400, 0]} rotation={[0, deg(180), 0]}>\r\n            {transitions.map(({ item: { shape, color, index }, key, props: { opacity, position, rotation } }) => (\r\n                <a.mesh key={key} rotation={rotation} position={position.interpolate((x, y, z) => [x, y, 0])}>\r\n                    <a.meshPhongMaterial\r\n                        attach=\"material\"\r\n                        color={color}\r\n                        opacity={opacity}\r\n                        side={THREE.DoubleSide}\r\n                        depthWrite={false}\r\n                        transparent\r\n                    />\r\n                    <shapeBufferGeometry attach=\"geometry\" args={[shape]} />\r\n                </a.mesh>\r\n            ))}\r\n        </a.group>\r\n    )\r\n}\r\nexport  default  class Animation extends  React.Component  {\r\n\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"main\">\r\n\r\n                <Canvas\r\n                    camera={{\r\n                        fov: 90,\r\n                        position: [0, 0, 500],\r\n                        rotation: [0, 0, THREE.Math.degToRad(180)],\r\n                        near: 0.1,\r\n                        far: 20000,\r\n                    }}>\r\n                    <ambientLight intensity={0.5}/>\r\n                    <spotLight intensity={0.5} position={[300, 300, 4000]}/>\r\n                    <Scene book = {this.props.book}/>\r\n                </Canvas>\r\n                <span className=\"middle\">\r\n                    <div>\r\n                        {this.props.book.title}\r\n                    </div>\r\n                </span>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n","import React from 'react';\r\nimport {withRouter} from \"react-router\";\r\nimport Animation from \"./animation\"\r\nimport { Descriptions, Badge,Tooltip,List,Comment,Form,Input} from 'antd';\r\n//import 'antd/dist/antd.css';\r\nimport { Button} from 'antd';\r\nimport './book_show.css'\r\nimport {receiveCurrentUser} from \"../../actions/session_actions\";\r\nimport {Link} from \"react-router-dom\";\r\nconst { TextArea } = Input;\r\nconst Editor = ({ onChange, onSubmit, submitting, value }) => (\r\n    <div>\r\n        <Form.Item>\r\n            <TextArea rows={4} onChange={onChange} value={value} />\r\n        </Form.Item>\r\n        <Form.Item>\r\n            <Button htmlType=\"submit\" loading={submitting} onClick={onSubmit} type=\"primary\">\r\n                Add Comment\r\n            </Button>\r\n        </Form.Item>\r\n    </div>\r\n);\r\nclass BookShow extends  React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            bookID: this.props.match.params.id,\r\n            submitting: false,\r\n            value: '',\r\n        };\r\n    }\r\n    addToShelf() {\r\n        if(this.props.currentUser === null) {\r\n            console.log(\"无用户\")\r\n        } else {\r\n            let bookshelf_item = {\r\n                user_id:this.props.currentUser.id,\r\n                book_id:this.props.book.id,\r\n            }\r\n            fetch( window.webBase+\"api/bookshelf\", {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                method: 'POST',\r\n                body: JSON.stringify(bookshelf_item)\r\n            }).then(res=>res.text()).then(text=>console.log(text));\r\n        }\r\n\r\n    }\r\n    //Animation/\r\n    handleChange = e => {\r\n        this.setState({\r\n            value: e.target.value,\r\n        });\r\n    };\r\n    handleSubmit = () => {\r\n        if (!this.state.value) {\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            submitting: true,\r\n        });\r\n\r\n        setTimeout(() => {\r\n            this.setState({\r\n                submitting: false,\r\n                value: '',\r\n            });\r\n        }, 1000);\r\n    };\r\n    render() {\r\n        const bookId = this.props.match.params.id;\r\n        const { submitting, value } = this.state;\r\n        if (this.props.book) {\r\n            let book = this.props.book;\r\n            return (\r\n                <div>\r\n                    <Animation book ={this.props.book}/>\r\n\r\n                    <div className=\"book-show\">\r\n                        <Button  type=\"primary\"  size=\"large\" onClick={e=>this.addToShelf()}>\r\n                            加入书架\r\n                        </Button>\r\n                        <Link to={`/page2/reader/`+this.props.book.title}><Button>开始阅读</Button></Link>\r\n                    <Descriptions title=\"书籍信息\" bordered  >\r\n                        <Descriptions.Item label=\"标题\">{book.title}</Descriptions.Item>\r\n                        <Descriptions.Item label=\"作者\">{book.author}</Descriptions.Item>\r\n                        <Descriptions.Item label=\"页数\">{book.pages}</Descriptions.Item>\r\n                        <Descriptions.Item label=\"出版社\">{book.publisher}</Descriptions.Item>\r\n                        <Descriptions.Item label=\"评分\" span={1}>\r\n                            {book.rating}\r\n                        </Descriptions.Item>\r\n                        <Descriptions.Item label=\"状态\" span={3}>\r\n                            <Badge status=\"processing\" text=\"有epub资源\" />\r\n                        </Descriptions.Item>\r\n                        <Descriptions.Item label=\"简介\">\r\n                            {book.description}\r\n                            <br />\r\n\r\n                        </Descriptions.Item>\r\n                    </Descriptions>\r\n                    </div>\r\n\r\n                </div>\r\n            );\r\n\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\nexport default withRouter(BookShow);","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router';\r\nimport BookShow from './book_show';\r\nimport { requestComment } from '../../actions/book_actions';\r\n\r\n\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        book: state.books[ownProps.match.params.id],\r\n        currentUser: state.session.currentUser,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n});\r\n\r\nexport default withRouter(connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(BookShow));\r\n","import React, {createRef} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {withStyles} from 'material-ui/styles';\r\nimport Drawer from 'material-ui/Drawer';\r\nimport IconButton from 'material-ui/IconButton';\r\nimport MenuIcon from 'material-ui-icons/Menu';\r\nimport Typography from 'material-ui/Typography';\r\nimport './Navigation.css';\r\n\r\nconst styles = {\r\n    button: {\r\n        position: 'relative',\r\n        left: 0,\r\n        top: 0,\r\n        zIndex: 10,\r\n    },\r\n    list: {\r\n        width: 280,\r\n        flex: 'initial',\r\n    },\r\n    title: {\r\n        marginTop: 15,\r\n        marginBottom: 15,\r\n    }\r\n};\r\n\r\nclass Navigation extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {open: true,help:false};\r\n\r\n        this.chapterList = null; // 章节列表 DOM 元素\r\n\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleOpen = this.handleOpen.bind(this);\r\n        this.handleHelp = this.handleHelp.bind(this);\r\n        // this.toc= null;\r\n        // this.setTocRef = element => {\r\n        //   this.toc = element;\r\n        // };\r\n        this.myRef = createRef();\r\n        this.toc = null;\r\n    }\r\n\r\n    componentDidMount() {\r\n        let epub = this.props.epub;\r\n        epub.getToc().then((chapters) => {\r\n            this.chapterList = this.getChapters(chapters, false);\r\n            this.bindEventForChapters();\r\n        });\r\n\r\n    }\r\n\r\n    componentWillUpdate() {\r\n\r\n        let toc = this.myRef.current;\r\n        if(toc!=null) {\r\n            this.toc = toc;\r\n            // if (toc.firstElementChild !== this.chapterList) {\r\n            //   toc.appendChild(this.chapterList);\r\n            // }\r\n        }\r\n        if(this.toc != null && this.chapterList != null) {\r\n            // console.log(\"插入前\");\r\n            // console.log(this.toc);\r\n            this.toc.appendChild(this.chapterList);\r\n            // console.log(\"插入后\");\r\n            // console.log(this.toc);\r\n        }\r\n        // console.log(this.toc === this.myRef.current);\r\n        // console.log(this.chapterList);\r\n        // console.log(\"update执行\");\r\n        if(this.state.help === false) {\r\n            this.setState({help:true});\r\n            // console.log(\"update执行，help值:\"+this.state.help);\r\n        }\r\n    }\r\n\r\n\r\n    // 生成章节列表 DOM 元素\r\n    getChapters(chapters, collapse) {\r\n        let ul = document.createElement('ul');\r\n        ul.className = collapse ? 'chapter-list collapse' : 'chapter-list expand';\r\n\r\n        chapters.forEach((item) => {\r\n            let li = document.createElement('li');\r\n            li.className = 'chapter-list-item';\r\n            let str;\r\n            str = `<div class=\"item-content\">\r\n                <i class=\"item-mark\"></i>\r\n                <a class=\"chapter-url\" href=\"${item.href}\">${item.label}</a>\r\n             </div>`;\r\n            li.innerHTML = str;\r\n            ul.appendChild(li);\r\n\r\n            // 若章节还有子章节，递归生成目录（默认目录折叠）\r\n            if (item.subitems && item.subitems.length) {\r\n                li.appendChild(this.getChapters(item.subitems, true));\r\n            }\r\n        });\r\n\r\n        return ul;\r\n    }\r\n\r\n    // 为章节列表 DOM 绑定事件处理程序\r\n    bindEventForChapters() {\r\n        this.chapterList.addEventListener('click', (event) => {\r\n            let target = event.target;\r\n            if (target.nodeName.toLowerCase() !== 'a') return;\r\n            let href = target.getAttribute('href');\r\n            this.props.epub.goto(href);\r\n            console.log('navigation render: ', this.props.epub.isRendered);\r\n            event.preventDefault();\r\n        });\r\n    }\r\n\r\n    // 打开章节列表\r\n    handleOpen() {\r\n        this.setState({open: true});\r\n\r\n    }\r\n\r\n    // 关闭章节列表\r\n    handleClose() {\r\n        this.setState({open: false});\r\n\r\n\r\n    }\r\n    handleHelp() {\r\n        this.setState({help: false});\r\n        console.log(\"执行，help值:\"+this.state.help);\r\n    }\r\n    render() {\r\n        const { theme, classes } = this.props;\r\n        let fontColor = {\r\n            color: theme ? '#000000de' : '#fff',\r\n        };\r\n\r\n        return (\r\n            <div id=\"navigation\">\r\n                <IconButton onClick={this.handleOpen} className={classes.button}>\r\n                    <MenuIcon/>\r\n                </IconButton>\r\n                <Drawer\r\n                    open={this.state.open}\r\n                    onClose={this.handleHelp}\r\n                    onClick={this.handleClose}\r\n                >\r\n\r\n                    <div className={classes.title}>\r\n                        <Typography type=\"title\" align=\"center\">\r\n                            Table Of Contents\r\n                        </Typography>\r\n                    </div>\r\n                    <div ref={this.myRef} className={classes.list} style={fontColor}>\r\n                    </div>\r\n\r\n                </Drawer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nNavigation.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Navigation);\r\n","class Note {\n  constructor(bookKey, chapter, text, cfi, range, color, note) {\n    this.key = new Date().getTime() + '';\n    this.bookKey = bookKey;\n    this.chapter = chapter;\n    this.text = text;\n    this.cfi = cfi;\n    this.range = range; // Rangy.js产生的将Range对象序列化后的字符串\n    this.color = color; // 高亮的颜色类型：0, 1, 2, 3\n    this.note = note || '';\n  }\n}\n\nexport default Note;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from 'material-ui/styles';\nimport { orange } from 'material-ui/colors';\nimport CopyIcon from 'material-ui-icons/ContentCut';\nimport Note from '../model/Note';\n\nconst styles = theme => ({\n  root: {\n    position: 'absolute',\n    display: 'flex',\n    alignItems: 'center',\n    height: 40,\n    padding: '0 10px',\n    borderRadius: 20,\n  },\n  button: {\n    cursor: 'pointer',\n    padding: '0 8px',\n  },\n  dot: {\n    display: 'inline-block',\n    width: 20,\n    height: 20,\n    borderRadius: '50%',\n    transition: 'transform .3s',\n    '&:hover': {\n      transform: 'scale(1.2)',\n    },\n  },\n  icon: {\n    '&:active': {\n      color: orange[400],\n    },\n  },\n  bottom: {\n    position: 'absolute',\n    width: 0,\n    height: 0,\n    borderWidth: 10,\n    borderStyle: 'solid',\n    borderColor: 'transparent',\n    left: '50%',\n    marginLeft: '-10px',\n    bottom: '-20px',\n  },\n});\n\nclass EditorToolbar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.createNote = this.createNote.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n    this.handleHighlight = this.handleHighlight.bind(this);\n    this.handleCopyPlainText = this.handleCopyPlainText.bind(this);\n  }\n\n  // 根据选取的文本创建Note对象\n  createNote(color) {\n    let {book, epub} = this.props;\n    let iframe = document.getElementsByTagName('iframe')[0];\n    let iDoc = iframe.contentDocument;\n    let sel = iDoc.getSelection();\n    let range = sel.getRangeAt(0);\n    let text = sel.toString();\n    text = text && text.trim();\n    let cfiBase = epub.renderer.currentChapter.cfiBase;\n    const EPUBJS = window.EPUBJS;\n    let cfi = new EPUBJS.EpubCFI().generateCfiFromRange(range, cfiBase);\n    let chapter = epub.renderer.currentChapter.spinePos;\n    let bookKey = this.props.epubTitle.id;\n    const rangy = window.rangy;\n    let charRange = rangy.getSelection(iframe).saveCharacterRanges(iDoc.body)[0];\n    let serial = JSON.stringify(charRange);\n    let note = new Note(bookKey, chapter, text, cfi, serial, color, '');\n\n    return note;\n  }\n\n  // 关闭菜单\n  closeMenu() {\n    this.props.closeMenu();\n  }\n\n  // 点击添加高亮\n  handleHighlight(event) {\n    let iDoc = document.getElementsByTagName('iframe')[0].contentDocument;\n    let color = parseInt(event.target.dataset.color);\n    if (isNaN(color)) return;\n    let note = this.createNote(color);\n    let classes = ['color-0', 'color-1', 'color-2', 'color-3'];\n\n    this.props.setKey(note.key); // 修复新添加的高亮没有正确的key的问题\n    this.props.pen.highlightSelection(classes[color]);\n    iDoc.getSelection().empty(); // 清空文本选取\n\n    this.props.addNote(note);\n    this.closeMenu();\n    event.stopPropagation();\n\n    console.log('%c Add note here. ', 'background-color: green');\n  }\n\n  // 点击复制为纯文本选项触发\n  handleCopyPlainText() {\n    let iDoc = document.getElementsByTagName('iframe')[0].contentDocument;\n    let text = iDoc.execCommand('copy', false, null);\n    !text ? console.log('failed to copy text to clipboard') : console.log('copied!');\n    this.closeMenu();\n  }\n\n  render() {\n    const {open, theme, posX, posY, colors, classes} = this.props;\n    const root = {\n      left: posX,\n      top: posY,\n      visibility: open ? 'visible' : 'hidden',\n      backgroundColor: theme ? '#424242' : 'f5f5f5',\n    };\n    const bottom = {\n      borderTopColor: theme ? '#424242' : '#f5f5f5',\n    };\n    const icon = {\n      width: 20,\n      height: 20,\n      color: theme ? '#fff' : '#000',\n    };\n\n    return (\n      <div id=\"editor-toolbar\" className={classes.root} style={root}>\n        <div className={classes.button} onClick={this.handleHighlight}>\n          <span className={classes.dot} data-color=\"0\" style={{backgroundColor: colors[0]}}/>\n        </div>\n        <div className={classes.button} onClick={this.handleHighlight}>\n          <span className={classes.dot} data-color=\"1\" style={{backgroundColor: colors[1]}}/>\n        </div>\n        <div className={classes.button} onClick={this.handleHighlight}>\n          <span className={classes.dot} data-color=\"2\" style={{backgroundColor: colors[2]}}/>\n        </div>\n        <div className={classes.button} onClick={this.handleHighlight}>\n          <span className={classes.dot} data-color=\"3\" style={{backgroundColor: colors[3]}}/>\n        </div>\n        <div className={classes.button} onClick={this.handleCopyPlainText}>\n          <CopyIcon className={classes.icon} style={icon}/>\n        </div>\n        <div className={classes.bottom} style={bottom}/>\n      </div>\n    );\n  }\n}\n\nEditorToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(EditorToolbar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from 'material-ui/styles';\n\nconst styles = theme => ({\n  root: {\n    position: 'absolute',\n    visibility: 'hidden',\n    zIndex: 100,\n  },\n  card: {\n    width: 200,\n    boxShadow: '0 2px 15px rgba(0, 0, 0, .1)',\n    padding: '10px 0',\n  },\n  bottom: {\n    width: 14,\n    height: 14,\n    transform: 'rotate(45deg)',\n    position: 'absolute',\n    bottom: -7,\n    left: 0,\n    right: 0,\n    margin: 'auto',\n    zIndex: 99,\n  },\n  textarea: {\n    fontFamily: 'sans-serif',\n    fontSize: 12,\n    border: 'none',\n    outline: 'none',\n    width: '100%',\n    padding: '0 10px',\n    minHeight: 60,\n    backgroundColor: 'transparent',\n    resize: 'none',\n    '&::-webkit-input-placeholder': {\n      fontStyle: 'italic',\n    },\n    '&::-moz-placeholder': {\n      fontStyle: 'italic',\n    },\n  },\n});\n\nclass NoteCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      note: this.props.note.note,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({note: nextProps.note.note});\n  }\n\n  handleChange(event) {\n    this.setState({note: event.target.value});\n  }\n\n  handleBlur(event) {\n    let note = this.props.note;\n    note.note = event.target.value;\n    this.props.updateNote(note);\n    console.log('note has been updated.', note);\n  }\n\n  render() {\n    const {posX, posY, open, theme, classes} = this.props;\n\n    let root = {\n      left: posX,\n      top: posY,\n      visibility: open ? 'visible' : 'hidden',\n      background: theme ? '#424242' : '#f5f5f5',\n    };\n    let textArea = {\n      color: theme ? '#f5f5f5' : '#424242',\n    };\n    let bottom = {\n      background: theme ? '#424242' : '#f5f5f5',\n    };\n\n    return (\n      <div id=\"note-card\" className={classes.root} style={root}>\n        <div className={classes.card}>\n          <textarea type=\"text\"\n                    value={this.state.note}\n                    className={classes.textarea}\n                    onChange={this.handleChange}\n                    onBlur={this.handleBlur}\n                    style={textArea}\n                    placeholder=\"There is no note here.\"\n          />\n        </div>\n        <div className={classes.bottom} style={bottom}/>\n      </div>\n    );\n  }\n}\n\nNoteCard.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(NoteCard);\n","class Config {\n\n  // 获取默认的配置\n  static getDefaultConfigObj() {\n    return {\n      theme: true,\n      colors: ['#FBF1D1', '#EFEEB0', '#CAEFC9', '#76BEE9'],\n      background: '#FFF',\n      fontSize: 0, // 0 代表使用默认值\n      lineHeight: 0, // 0 代表使用默认值\n      letterSpacing: 0, // 0 代表使用默认值\n      wordSpacing: 0, // 0 代表使用默认值\n      column: 2, // 可取值为1, 2\n      padding: 10, // 阅读区域与浏览器可视区域上下的间距\n      gutter: 80, // 阅读区域与浏览器可视区域两侧的间距\n      disablePopup: false,\n    };\n  }\n\n  // 获取config对象\n  static get() {\n    let json = localStorage.getItem('config');\n\n    return JSON.parse(json) || Config.getDefaultConfigObj();\n  }\n\n  // 更新config\n  static set(key, value) {\n    let json = localStorage.getItem('config');\n    let config = JSON.parse(json) || Config.getDefaultConfigObj();\n    config[key] = value;\n    localStorage.setItem('config', JSON.stringify(config));\n  }\n\n  // 重置Config\n  static resetConfig() {\n    let json = JSON.stringify(Config.getDefaultConfigObj());\n    localStorage.setItem('config', json);\n  }\n\n  // 获取为文档默认应用的css样式\n  static getDefaultCss() {\n    let config = Config.get();\n    let colors = config.colors;\n\n    let css1 = `::selection{background:#f3a6a68c}::-moz-selection{background:#f3a6a68c}[class*=color-]:hover{cursor:pointer;background-image:linear-gradient(0,rgba(0,0,0,.075),rgba(0,0,0,.075))}.color-0{background-color:${colors[0]}}.color-1{background-color:${colors[1]}}.color-2{background-color:${colors[2]}}.color-3{background-color:${colors[3]}}`;\n\n    let css2 = [\n      'a, article, cite, code, div, li, p, pre, span, table {',\n      `    font-size: ${config.fontSize+'px'} !important;`,\n      `    line-height: ${config.lineHeight+'px'} !important;`,\n      `    letter-spacing: ${config.letterSpacing+'px'} !important;`,\n      `    word-spacing: ${config.wordSpacing+'px'} !important;`,\n      '}',\n      'img {',\n      '    max-width: 100% !important;',\n      '}',\n      'body {',\n      '    background-color: transparent !important;',\n      `    color: ${config.theme ? '#000000de' : '#f5f5f5'} !important;`,\n      '}',\n    ];\n\n    css2[1] = config.fontSize ? css2[1] : '';\n    css2[2] = config.lineHeight ? css2[2] : '';\n    css2[3] = config.letterSpacing ? css2[3] : '';\n    css2[4] = config.wordSpacing ? css2[4] : '';\n\n    return (css1 + css2.join('\\n'));\n  }\n}\n\nexport default Config;\n","// 工具类\nimport Config from \"./Config\";\n\nclass Util {\n\n  // 获取元素的样式\n  static getStyle(element, attr) {\n    if (element.currentStyle) {\n      return element.currentStyle[attr];\n    } else {\n      return getComputedStyle(element)[attr];\n    }\n  }\n\n  // 为指定文档添加(user)脚本\n  static addScript(script, doc=document) {\n    let scriptEl = doc.getElementById('qiu-user-script');\n\n    if (!scriptEl) {\n      scriptEl = doc.createElement('script');\n      scriptEl.id = 'qiu-user-script';\n      scriptEl.type = 'text/javascript';\n      scriptEl.defer = true;\n      scriptEl.text = script;\n      doc.body.appendChild(scriptEl);\n      return;\n    }\n\n    scriptEl.text = script;\n  }\n\n  // 为指定文档添加(user)样式\n  static addCss(css, doc=document) {\n    let style = doc.getElementById('qiu-user-style');\n\n    if (!style) {\n      style = doc.createElement('style');\n      style.id = 'qiu-user-style';\n      style.textContent = css;\n      doc.head.appendChild(style);\n      return;\n    }\n\n    style.textContent = css;\n  }\n\n  // 为 iframe 添加默认的样式\n  static addDefaultCss() {\n    let css = Config.getDefaultCss();\n    let iDoc = document.getElementsByTagName('iframe')[0].contentDocument;\n    let style = iDoc.getElementById('qiu-default-style');\n\n    if (!style) {\n      style = iDoc.createElement('style');\n      style.id = 'qiu-default-style';\n      style.textContent = css;\n      iDoc.head.appendChild(style);\n      return;\n    }\n\n    style.textContent = css;\n  }\n\n  // 获取用户自定义的样式\n  // 返回一个对象 {outer: outerStyle, inner: innerStyle}\n  static getUserStyle() {\n    let json = localStorage.getItem('style')  || '{}';\n\n    return JSON.parse(json);\n  }\n\n  // 解析用户传入的样式表\n  static parseStyle(style) {\n    const separator = '/* Qiu Plus Separator */';\n    let arr = style.split(separator);\n    let out = {\n      inner: arr[0] || '',\n      outer: arr[1] || '',\n    };\n\n    return out;\n  }\n\n  // 获取用户自定义的脚本\n  // 返回一个对象 {outer: outerScript, inner: innerScript}\n  static getUserScript() {\n    let json = localStorage.getItem('script')  || '{}';\n\n    return JSON.parse(json);\n  }\n\n  // 解析用户传入的脚本\n  static parseScript(script) {\n    const separator = '/* Qiu Plus Separator */';\n    let arr = script.split(separator);\n    let out = {\n      inner: arr[0] || '',\n      outer: arr[1] || '',\n    };\n\n    return out;\n  }\n\n  // 应用外部的样式\n  static applyCss() {\n    let outerDoc = document;\n    let innerDoc = document.getElementsByTagName('iframe')[0].contentDocument;\n    let style = Util.getUserStyle();\n    style.inner && Util.addCss(style.inner, innerDoc);\n    style.outer && Util.addCss(style.outer, outerDoc);\n  }\n\n  // 应用外部的样式\n  static applyScript() {\n    let outerDoc = document;\n    let innerDoc = document.getElementsByTagName('iframe')[0].contentDocument;\n    let script = Util.getUserScript();\n    script.inner && Util.addCss(script.inner, innerDoc);\n    script.outer && Util.addCss(script.outer, outerDoc);\n  }\n\n  // 取消自定义的样式\n  static resetStyle() {\n    let style = {\n      inner: ' ',\n      outer: ' ',\n    };\n    localStorage.setItem('style', JSON.stringify(style));\n    Config.resetConfig();\n\n    Util.applyCss();\n    Util.addDefaultCss();\n  }\n\n  // 取消用户自定义脚本\n  static resetScript() {\n    let script = {\n      inner: ' ',\n      outer: ' ',\n    };\n    localStorage.setItem('script', JSON.stringify(script));\n    Util.applyScript();\n  }\n}\n\nexport default Util;\n","// 阅读期间自动记录当前阅读位置\nclass AutoBookmark {\n\n  static recordCfi(bookKey, cfi) {\n    let json = localStorage.getItem('autoBookmark');\n    let obj = JSON.parse(json) || {};\n    obj[bookKey] = cfi;\n\n    localStorage.setItem('autoBookmark', JSON.stringify(obj));\n  }\n\n  static getCfi(bookKey) {\n    let json = localStorage.getItem('autoBookmark');\n    let obj = JSON.parse(json) || {};\n\n    return obj[bookKey] || null;\n  }\n\n  static clear(bookKey) {\n    let json = localStorage.getItem('autoBookmark');\n    let obj = JSON.parse(json) || {};\n    delete obj[bookKey];\n\n    localStorage.setItem('autoBookmark', JSON.stringify(obj));\n  }\n}\n\nexport default AutoBookmark;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from 'material-ui/styles';\nimport IconButton from 'material-ui/IconButton';\nimport LeftArrow from 'material-ui-icons/NavigateBefore';\nimport RightArrow from 'material-ui-icons/NavigateNext';\nimport EditorToolbar from './EditorToolbar';\nimport NoteCard from './NoteCard';\nimport Util from '../service/Util';\nimport AutoBookmark from \"../service/AutoBookmark\";\nconst rangy = window.rangy;\nlet styles = {\n  pageArea: {\n    position: 'absolute',\n    height:600,\n    //maxWidth:600,\n    left: 80,\n    right: 80,\n    top: 0,\n    bottom: 0,\n  },\n  button: {\n    width: 70,\n    height: 70,\n    padding: 0,\n  },\n  arrow: {\n    width: 50,\n    height: 50,\n  },\n  prev: {\n    position: 'fixed',\n    left:0,\n    bottom:0,\n    height: '100%',\n    opacity: 0,\n    cursor: 'pointer',\n    transition: '.3s',\n    '&:hover': {\n      opacity: 1,\n    },\n\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  next: {\n    position: 'fixed',\n    right:0,\n    bottom:0,\n    height: '100%',\n    opacity: 0,\n    cursor: 'pointer',\n    transition: '.3s',\n    '&:hover': {\n      opacity: 1,\n    },\n\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n};\n\nclass ViewArea extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openMenu: false, // 是否打开菜单\n      openNoteCard: false, // 是否打开附注编辑框\n      mPosX: 0, // 菜单的X轴坐标\n      mPosY: 0, // 菜单的Y轴坐标\n      nPosX: 0, // 附注输入框的X轴坐标\n      nPosY: 0, // 附注输入框的Y轴坐标\n      note: {}, // 当前正在被编辑的note\n    };\n\n    this.x = 0; // 计算菜单坐标时的中间结果\n    this.y = 0; // 计算菜单坐标时的中间结果\n    this.pen = null;\n    this.notes = []; // 当前章节的note\n    this.key = ''; // 当前正在渲染的note的key\n\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    this.closeMenu = this.closeMenu.bind(this);\n    this.openMenu = this.openMenu.bind(this);\n    this.closeNoteCard = this.closeNoteCard.bind(this);\n    this.openNoteCard = this.openNoteCard.bind(this);\n    this.renderNotes = this.renderNotes.bind(this);\n    this.getPen = this.getPen.bind(this);\n    this.setNote = this.setNote.bind(this);\n    this.setKey = this.setKey.bind(this);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('copy', this.copyTextHack);\n\n  }\n\n  componentDidMount() {\n    let page = document.getElementById('page-area');\n    let {book, epub} = this.props;\n\n    epub.renderTo(page); // 渲染\n    this.bindEvent(); // 绑定事件\n    epub.gotoCfi(AutoBookmark.getCfi(book.key)); // 跳转到上一次阅读位置\n\n    // 解决火狐下不能正常复制\n    this.copyTextHack = (event) => {\n      let iDoc = document.getElementsByTagName('iframe')[0].contentDocument;\n      let copyText = iDoc.getSelection().toString() || document.getSelection().toString();\n      event.clipboardData.setData('text/plain', copyText);\n      event.preventDefault();\n    };\n    document.addEventListener('copy', this.copyTextHack);\n  }\n\n  // 为阅读界面绑定事件\n  bindEvent() {\n    let epub = this.props.epub;\n    let isFirefox = navigator.userAgent.indexOf('Firefox') !== -1;\n    let lock = false; // 暂时锁住翻页快捷键，避免快速点击产生的Bug\n\n    let arrowKeys = event => {\n      event.preventDefault();\n\n      if (lock) return;\n\n      if (event.keyCode === 37 || event.keyCode === 38) {\n        epub.prevPage();\n        lock = true;\n        setTimeout(function () {\n          lock = false;\n        }, 100);\n        return false;\n      }\n\n      if (event.keyCode === 39 || event.keyCode === 40) {\n        epub.nextPage();\n        lock = true;\n        setTimeout(function () {\n          lock = false;\n        }, 100);\n        return false;\n      }\n    };\n\n    let mouseFirefox = event => {\n      event.preventDefault();\n\n      if (lock) return;\n\n      if (event.detail < 0) {\n        epub.prevPage();\n        lock = true;\n        setTimeout(function () {\n          lock = false;\n        }, 100);\n        return false;\n      }\n\n      if (event.detail > 0) {\n        epub.nextPage();\n        lock = true;\n        setTimeout(function () {\n          lock = false;\n        }, 100);\n        return false;\n      }\n    };\n\n    let mouseChrome = event => {\n      event.preventDefault();\n\n      if (lock) return;\n\n      if (event.wheelDelta > 0) {\n        epub.prevPage();\n        lock = true;\n        setTimeout(function () {\n          lock = false;\n        }, 100);\n        return false;\n      }\n\n      if (event.wheelDelta < 0) {\n        epub.nextPage();\n        lock = true;\n        setTimeout(function () {\n          lock = false;\n        }, 100);\n        return false;\n      }\n    };\n\n    let copyText = event => {\n      let key = event.keyCode || event.which;\n      if (key === 67 && event.ctrlKey) {\n        let iDoc = document.getElementsByTagName('iframe')[0].contentDocument;\n        let text = iDoc.execCommand('copy', false, null);\n        !text ? console.log('failed to copy text to clipboard') : console.log(`copied!`);\n      }\n    };\n\n    epub.on('renderer:chapterDisplayed', () => {\n\n      this.getPen(); // 切换章节后获取 pen\n\n      console.log('%c renderer:chapterDisplayed has been triggered! ', 'color: cyan; background: #333333');\n\n      let doc = epub.renderer.doc;\n\n      doc.addEventListener('click', this.openMenu); // 为每一章节内容绑定弹出菜单触发程序\n      doc.addEventListener('keydown', arrowKeys, false); // 箭头按键翻页\n      doc.addEventListener('keydown', copyText); // 解决 Ctrl + C 复制的bug\n\n      // 鼠标滚轮翻页\n      if (isFirefox)\n        doc.addEventListener('DOMMouseScroll', mouseFirefox, false);\n      else\n        doc.addEventListener('mousewheel', mouseChrome, false);\n\n      Util.addDefaultCss(); // 切换章节后为当前文档设置默认的样式\n      Util.applyCss(); // 切换章节后应当为当前文档设置样式\n      this.renderNotes(); // 切换章节后需要重新渲染注释\n    });\n\n    epub.on('renderer:visibleRangeChanged', () => {\n      let {book, epub} = this.props;\n      let bookKey = book.key;\n      let cfi = epub.getCurrentLocationCfi();\n      AutoBookmark.recordCfi(bookKey, cfi);\n      console.log('auto bookmark: ', cfi);\n    });\n  }\n\n  // 关闭弹出菜单\n  closeMenu() {\n    this.setState({openMenu: false});\n  }\n\n  // 打开弹出菜单\n  openMenu(event) {\n    let iframe = document.getElementsByTagName('iframe')[0];\n    let iDoc = iframe.contentDocument;\n    let sel = iDoc.getSelection();\n\n    // 如果 note card 正在被展示，则隐藏\n    if (this.state.openNoteCard) {\n      this.setState({openNoteCard: false});\n    }\n    // 使弹出菜单更加灵活可控\n    if (sel.isCollapsed) {\n      this.state.openMenu && this.closeMenu();\n      return;\n    }\n\n    if (this.props.disablePopup) return;\n\n    let rect = this.props.epub.renderer.rangePosition(sel.getRangeAt(0));\n    console.log(rect);\n\n    let menu = document.getElementById('editor-toolbar');\n    let x = event.clientX;\n    let y = event.clientY;\n    let width = parseInt(Util.getStyle(menu, 'width'));\n    let height = parseInt(Util.getStyle(menu, 'height'));\n\n    // TODO: 坐标计算\n    let posX = rect.x + rect.width / 2 + width / 2;\n    let posY = rect.y - height;\n    posX = posX < 0 ? 0 : posX;\n    posY = posY < 0 ? 0 : posY;\n\n    [this.x, this.y] = [x, y];\n    this.setState({openMenu: true, mPosX: posX, mPosY: posY});\n  }\n\n  // 关闭附注编辑框\n  closeNoteCard() {\n    this.setState({openNoteCard: false});\n  }\n\n  // 打开附注编辑框\n  openNoteCard(x, y) {\n    let noteCard = document.getElementById('note-card');\n    let width = parseInt(Util.getStyle(noteCard, 'width'));\n    let height = parseInt(Util.getStyle(noteCard, 'height'));\n\n    console.log(width, height);\n\n    let posX = x - (width / 2);\n    let posY = y - height - 20;\n\n    posX = posX < 0 ? 0 : posX;\n    posY = posY < 0 ? 0 : posY;\n\n    this.setState({openNoteCard: true, nPosX: posX, nPosY: posY});\n  }\n\n  // 设置当前正在被编辑的note\n  setNote(note) {\n    this.setState({note});\n  }\n\n  // 设置当前正在被渲染的note的key\n  setKey(key) {\n    this.key = key;\n  }\n\n  // 获取与本章节相关的 pen\n  getPen() {\n    // 注意点一\n    // 为了每次切换章节时都有与当前文档相关联的 pen\n    let iDoc = document.getElementsByTagName('iframe')[0].contentDocument;\n\n     this.pen = rangy.createHighlighter(iDoc);\n    let classes = ['color-0', 'color-1', 'color-2', 'color-3'];\n\n    classes.forEach((item) => {\n      let config = {\n        ignoreWhiteSpace: true,\n        elementTagName: 'span',\n        elementProperties: {\n          onclick: (event) => {\n            let iDoc = document.getElementsByTagName('iframe')[0].contentDocument;\n            let sel = iDoc.getSelection();\n            if (!sel.isCollapsed) return;\n\n            let {gutter, padding} = this.props;\n            let key = event.currentTarget.dataset.key;\n            let note = this.props.getNote(key);\n            note || console.log('no note with key: ' + key);\n            this.setNote(note);\n            let [x, y] = [event.clientX + gutter, event.clientY + padding];\n            this.openNoteCard(x, y);\n            event.stopPropagation();\n\n            if (this.state.openMenu) this.setState({openMenu: false}); // 修复bug\n          },\n        },\n        onElementCreate: (element) => {\n          element.dataset.key = this.key;\n        },\n      };\n      let applier = rangy.createClassApplier(item, config);\n      this.pen.addClassApplier(applier);\n    });\n  }\n\n  // 渲染本章节的note\n  renderNotes() {\n\n    // TODO: 注意点二\n    console.log('%c renderNotes has been called! ', 'color: cyan; background: #333333');\n\n    let {epub, getNotesByChapter} = this.props;\n    let chapter = epub.renderer.currentChapter;\n\n    if (!chapter) return; // 初次打开书籍，页面尚未渲染\n\n    this.notes = getNotesByChapter(chapter.spinePos);\n    let notes = this.notes;\n    let iframe = document.getElementsByTagName('iframe')[0];\n    let iWin = iframe.contentWindow || iframe.contentDocument.defaultView;\n\n    let sel = rangy.getSelection(iframe);\n    let serial = rangy.serializeSelection(sel, true);\n\n    this.pen && this.pen.removeAllHighlights(); // 为了避免下次反序列化失败，必须先清除已有的高亮\n\n    let classes = ['color-0', 'color-1', 'color-2', 'color-3'];\n\n    notes.forEach((note) => {\n      this.key = note.key;\n      try {\n        let temp = JSON.parse(note.range);\n        temp = [temp];\n        rangy.getSelection(iframe).restoreCharacterRanges(iframe.contentDocument, temp);\n      } catch (e) {\n        console.warn('Exception has been caught when restore character ranges.');\n        return;\n      }\n\n      this.pen.highlightSelection(classes[note.color]);\n    });\n\n    iWin.getSelection().empty(); // 清除文本选取\n    this.state.openMenu && rangy.deserializeSelection(serial, null, iWin); // （为了选取文本后不被上一行代码清除掉）恢复原本的文本选取\n  }\n\n  // 翻页：上一页\n  prev() {\n    this.props.epub.prevPage();\n    this.closeMenu();\n    this.closeNoteCard();\n  }\n\n  // 翻页：下一页\n  next() {\n    this.props.epub.nextPage();\n    this.closeMenu();\n    this.closeNoteCard();\n  }\n\n  render() {\n    const {epub, book, theme, colors, column, gutter, padding, addNote, updateNote, deleteNote, classes} = this.props;\n    let style = {\n      left: gutter,\n      right: gutter,\n      top: padding,\n      bottom: padding,\n    };\n\n    epub.renderer.forceSingle(column === 1); // TODO: 在合适的地方触发重新渲染书籍\n    console.log('%c render view-area. ', 'color: orange; background: #333333');\n    this.renderNotes();\n\n    return (\n      <div id=\"view-area\">\n        <div id=\"page-area\" className={classes.pageArea} style={style}/>\n        <div id=\"prev\" onClick={this.prev} className={classes.prev}>\n          <IconButton className={classes.button}>\n            <LeftArrow className={classes.arrow}/>\n          </IconButton>\n        </div>\n        <div id=\"next\" onClick={this.next} className={classes.next}>\n          <IconButton className={classes.button}>\n            <RightArrow className={classes.arrow}/>\n          </IconButton>\n        </div>\n        <EditorToolbar open={this.state.openMenu}\n                       posX={this.state.mPosX}\n                       posY={this.state.mPosY}\n                       closeMenu={this.closeMenu}\n                       openNoteCard={this.openNoteCard}\n                       addNote={addNote}\n                       setKey={this.setKey}\n                       book={book}\n                       epub={epub}\n                       theme={theme}\n                       colors={colors}\n                       pen={this.pen}\n                       epubTitle={this.props.epubTitle}\n        />\n        <NoteCard open={this.state.openNoteCard}\n                  posX={this.state.nPosX}\n                  posY={this.state.nPosY}\n                  note={this.state.note}\n                  theme={theme}\n                  deleteNote={deleteNote}\n                  updateNote={updateNote}\n                  closeNoteCard={this.closeNoteCard}\n        />\n      </div>\n    );\n  }\n}\n\nViewArea.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ViewArea);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Draggable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // TODO 修改为更为通用的形式\n      x: this.props.left ? this.props.left : 0, // 可拖动元素的 left 属性的值\n      y: this.props.top ? this.props.top : 0, // 可拖动元素的 top 属性的值\n    };\n\n    // 鼠标初始时的位置\n    this.startX = 0;\n    this.startY = 0;\n    // 可拖动元素的初始位置\n    this.sourceX = 0;\n    this.sourceY = 0;\n    this.element = null; // 可拖动的元素\n\n    this.start = this.start.bind(this);\n    this.move = this.move.bind(this);\n    this.end = this.end.bind(this);\n  }\n\n  start(event) {\n    [this.sourceX, this.sourceY] = [this.state.x, this.state.y];\n    [this.startX, this.startY] = [event.clientX, event.clientY];\n\n    document.addEventListener('mousemove', this.move, false);\n    document.addEventListener('mouseup', this.end, false);\n  }\n\n  move(event) {\n    let [currentX, currentY] = [event.clientX, event.clientY]; // 当前鼠标位置\n\n    // 鼠标移动距离\n    let distX = currentX - this.startX;\n    let distY = currentY - this.startY;\n\n    // 当前元素位置\n    let x = parseInt(this.sourceX + distX);\n    let y = parseInt(this.sourceY + distY);\n\n    // 元素可以设置的最大left和最大top（避免移出屏幕）\n    let maxEX = window.innerWidth - parseFloat(this.getStyle('width'));\n    let maxEY = window.innerHeight - parseFloat(this.getStyle('height'));\n\n    x = x > maxEX ? maxEX : x;\n    x = x < 0 ? 0 : x;\n    y = y > maxEY ? maxEY : y;\n    y = y < 0 ? 0 : y;\n\n    this.setState({x, y});\n  }\n\n  end() {\n    document.removeEventListener('mousemove', this.move);\n    document.removeEventListener('mouseup', this.end);\n  }\n\n  getStyle(attr) {\n    if (document.defaultView.getComputedStyle) {\n      return document.defaultView.getComputedStyle(this.element, null)[attr];\n    } else {\n      return this.element.currentStyle[attr];\n    }\n  }\n\n  render() {\n    let style = {\n      position: 'fixed',\n      left: this.state.x,\n      top: this.state.y,\n    };\n\n    return (\n      <div style={style} onMouseDown={this.start} ref={(element) => {\n        this.element = element\n      }}>\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nDraggable.propTypes = {\n  left: PropTypes.number,\n  top: PropTypes.number,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Draggable;\n","class Bookmark {\n  constructor(bookKey, cfi, label) {\n    this.key = new Date().getTime() + ''; // 唯一的键\n    this.bookKey = bookKey; // 所属的书籍的键\n    this.cfi = cfi; // 标记阅读位置的cfi\n    this.label = label; // 此项书签的别名\n  }\n}\n\nexport default Bookmark;\n","import React from 'react';\nimport DragHandleIcon from 'material-ui-icons/DragHandle';\nimport FullScreenIcon from 'material-ui-icons/Fullscreen';\nimport FullScreenExitIcon from 'material-ui-icons/FullscreenExit';\nimport SettingsIcon from 'material-ui-icons/Settings';\nimport FormatListBulletedIcon from 'material-ui-icons/FormatListBulleted';\nimport BookmarkIcon from 'material-ui-icons/Bookmark';\nimport ExitToAppIcon from 'material-ui-icons/ExitToApp';\nimport NotesIcon from 'material-ui-icons/Sort';\nimport Draggable from './Draggable';\nimport Bookmark from \"../model/Bookmark\";\nimport './Toolbar.css';\n\nclass Toolbar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFullScreen: false, // 是否进入全屏模式\n      show: false, // 是否显示\n    };\n\n    this.handleFullScreen = this.handleFullScreen.bind(this);\n    this.handleExitFullScreen = this.handleExitFullScreen.bind(this);\n    this.handleScreen = this.handleScreen.bind(this);\n    this.handleSettings = this.handleSettings.bind(this);\n    this.handleNotes = this.handleNotes.bind(this);\n    this.handleBookmarks = this.handleBookmarks.bind(this);\n    this.handleAddBookmark = this.handleAddBookmark.bind(this);\n    this.handleExit = this.handleExit.bind(this);\n    this.show = this.show.bind(this);\n    this.hide = this.hide.bind(this);\n  }\n\n  // 进入全屏模式\n  handleFullScreen() {\n    let de = document.documentElement;\n\n    if (de.requestFullscreen) {\n      de.requestFullscreen();\n    } else if (de.mozRequestFullScreen) {\n      de.mozRequestFullScreen();\n    } else if (de.webkitRequestFullscreen) {\n      de.webkitRequestFullscreen();\n    } else if (de.msRequestFullscreen) {\n      de.msRequestFullscreen();\n    }\n\n    this.setState({isFullScreen: true});\n  }\n\n  // 退出全屏模式\n  handleExitFullScreen() {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    } else if (document.msExitFullscreen) {\n      document.msExitFullscreen();\n    } else if (document.mozCancelFullScreen) {\n      document.mozCancelFullScreen();\n    } else if (document.webkitExitFullscreen) {\n      document.webkitExitFullscreen();\n    }\n\n    this.setState({isFullScreen: false});\n  }\n\n  // 点击切换全屏按钮触发\n  handleScreen() {\n    !this.state.isFullScreen ? this.handleFullScreen() : this.handleExitFullScreen();\n  }\n\n  // 点击设置按钮的处理程序\n  handleSettings() {\n    this.props.toggleSettingsDialog(true);\n  }\n\n  // 点击notes按钮的事件处理程序\n  handleNotes() {\n    this.props.toggleNotes(true);\n  }\n\n  // 点击书签列表按钮的处理程序\n  handleBookmarks() {\n    this.props.toggleBookmarks(true);\n  }\n\n  // 点击添加书签按钮的处理程序\n  handleAddBookmark() {\n    //console.log(this.props.epubTitle);\n    let bookKey = this.props.epubTitle.id;\n    let epub = this.props.epub;\n    let cfi = epub.getCurrentLocationCfi();\n    let firstVisibleNode = epub.renderer.findFirstVisible();\n    let label = firstVisibleNode.textContent;\n    label = label && label.trim();\n    label = label || cfi;\n    let bookmark = new Bookmark(bookKey, cfi, label);\n    this.props.handleAddBookmark(bookmark);\n    this.props.toggleMessage(true);\n  }\n\n  // 点击退出按钮的处理程序\n  handleExit() {\n    this.props.handleReading(false);\n  }\n\n  // 显示toolbar\n  show() {\n    // TODO: 添加自动滑出显示的效果\n    let show = true;\n    this.setState({show});\n  }\n\n  // 隐藏toolbar\n  hide() {\n    // TODO: 添加自动滑入隐藏的效果\n    let show = false;\n    this.setState({show});\n  }\n\n  render() {\n    let fullScreen = {\n      display: this.state.isFullScreen ? 'none' : 'inline-block',\n    };\n    let exitFullScreen = {\n      display: this.state.isFullScreen ? 'inline-block' : 'none',\n    };\n    let showToolbar = {\n      opacity: this.state.show ? '1' : '.3',\n    };\n    let x = window.innerWidth - 300 - 20;\n    let y = window.innerHeight - 40 - 40;\n\n    return (\n      <Draggable left={x} top={y}>\n        <div id=\"toolbar\" className=\"toolbar drag-me\" onMouseOver={this.show} onMouseOut={this.hide} style={showToolbar}>\n          <button className=\"toolbar-btn drag-me\">\n            <DragHandleIcon/>\n          </button>\n          <button className=\"toolbar-btn\" onClick={this.handleScreen}>\n            <span style={fullScreen}>\n              <FullScreenIcon/>\n            </span>\n            <span style={exitFullScreen}>\n              <FullScreenExitIcon/>\n            </span>\n          </button>\n          <button className=\"toolbar-btn\" title=\"settings\" onClick={this.handleSettings}>\n            <SettingsIcon/>\n          </button>\n          <button className=\"toolbar-btn\" title=\"notes\" onClick={this.handleNotes}>\n            <NotesIcon/>\n          </button>\n          <button className=\"toolbar-btn\" title=\"bookmark list\" onClick={this.handleBookmarks}>\n            <FormatListBulletedIcon/>\n          </button>\n          <button className=\"toolbar-btn\" title=\"add bookmark\" onClick={this.handleAddBookmark}>\n            <BookmarkIcon/>\n          </button>\n          <button className=\"toolbar-btn\" title=\"exit\" onClick={this.handleExit}>\n            <ExitToAppIcon/>\n          </button>\n        </div>\n      </Draggable>\n\n    );\n  }\n}\n\nexport default Toolbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport {grey, orange, green} from 'material-ui/colors';\nimport Button from 'material-ui/Button';\nimport Typography from 'material-ui/Typography';\nimport Divider from 'material-ui/Divider';\nimport Dialog, {\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n} from 'material-ui/Dialog';\nimport { FormControlLabel } from 'material-ui/Form';\nimport Checkbox from 'material-ui/Checkbox';\nimport SunIcon from 'material-ui-icons/Brightness5';\nimport MoonIcon from 'material-ui-icons/Brightness4';\nimport StyleIcon from 'material-ui-icons/Stars';\nimport ResetIcon from 'material-ui-icons/Restore';\nimport Tooltip from 'material-ui/Tooltip';\nimport Config from \"../service/Config\";\nimport Util from \"../service/Util\";\n\nconst styles = theme => ({\n  root: {\n\n  },\n  card: {\n    minWidth: 400,\n    minHeight: 60,\n    padding: 10,\n    margin: '15px auto',\n    boxShadow: theme.shadows[1],\n    transition: 'box-shadow .3s',\n    '&:hover': {\n      boxShadow: theme.shadows[6],\n    },\n  },\n  icon: {\n    color: grey[700],\n    '&:hover': {\n      color: orange[700],\n      cursor: 'pointer',\n    },\n  },\n  box: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: '20 0 10',\n  },\n  colorBox: {\n    width: 360,\n    padding: '20px 0 10px',\n    margin: 'auto',\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n  },\n  colorItem: {\n    width: '45%',\n    margin: '5px 0',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  dot: {\n    width: 14,\n    height: 14,\n    display: 'inline-block',\n    borderRadius: '50%',\n    border: '1px solid black',\n    marginRight: 8,\n  },\n  input: {\n    outline: 'none',\n    border: 'none',\n    width: '80%',\n    borderBottom: '1px dotted black',\n    backgroundColor: 'transparent',\n    transition: '.3s',\n    '&:hover': {\n      borderColor: orange[700],\n    },\n    '&:focus': {\n      borderColor: orange[700],\n    },\n  },\n  controlBox: {\n    width: 360,\n    display: 'flex',\n    alignItems: 'center',\n    padding: '5px 10px',\n  },\n  caption: {\n    width: '15%',\n    marginRight: 20,\n    fontSize: 'small',\n    textAlign: 'right',\n    color: grey[700],\n  },\n  checked: {\n    color: green[500],\n  },\n  hide: {\n    display: 'none',\n  }\n});\n\nclass SettingsDialog extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let { colors, background, gutter, padding, fontSize, lineHeight, letterSpacing, wordSpacing, column, disablePopup } = this.props;\n    this.state = {\n      colors: colors,\n      background: background,\n      gutter: gutter,\n      padding: padding,\n      fontSize: fontSize,\n      lineHeight: lineHeight,\n      letterSpacing: letterSpacing,\n      wordSpacing: wordSpacing,\n      column: column,\n      disablePopup: disablePopup,\n    };\n\n    this.handleClose = this.handleClose.bind(this);\n    this.changeTheme = this.changeTheme.bind(this);\n    this.changeColors = this.changeColors.bind(this);\n    this.changeColumn = this.changeColumn.bind(this);\n    this.changeGutter = this.changeGutter.bind(this);\n    this.changePadding = this.changePadding.bind(this);\n    this.changeFontConfig = this.changeFontConfig.bind(this);\n    this.changeUserStyle = this.changeUserStyle.bind(this);\n    this.resetUserStyle = this.resetUserStyle.bind(this);\n    this.disablePopup = this.disablePopup.bind(this);\n    this.handleColorsChange = this.handleColorsChange.bind(this);\n    this.handleOtherChange = this.handleOtherChange.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    let { colors, background, gutter, padding, fontSize, lineHeight, letterSpacing, wordSpacing, column, disablePopup } = nextProps;\n    this.setState({\n      colors: colors,\n      background: background,\n      gutter: gutter,\n      padding: padding,\n      fontSize: fontSize,\n      lineHeight: lineHeight,\n      letterSpacing: letterSpacing,\n      wordSpacing: wordSpacing,\n      column: column,\n      disablePopup: disablePopup,\n    });\n  }\n\n  handleClose() {\n    this.props.toggleSettingsDialog(false);\n  }\n\n  handleColorsChange(event) {\n    let index = parseInt(event.target.dataset.color);\n    let colors = this.state.colors;\n    colors[index] = event.target.value;\n    this.setState({colors});\n  }\n\n  handleOtherChange(event) {\n    let name = event.target.name;\n    this.setState({\n      [name]: event.target.value\n    });\n  }\n\n  // 改变主题\n  changeTheme(theme) {\n    this.props.toggleTheme(theme);\n    let colors1 = Config.getDefaultConfigObj().colors;\n    let colors2 = ['#F44336', '#F57F17', '#8BC34A', '#2196F3'];\n    let colors = theme ? colors1 : colors2;\n    this.props.setConfig('colors', colors);\n    Util.addDefaultCss(); // 改变了设置，需要为当前页重新应用样式\n  }\n\n  // 改变高亮的颜色\n  changeColors(event) {\n    let colors = Config.get().colors;\n    let value = event.target.value;\n    let i = parseInt(event.target.dataset.color);\n    colors[i] = value;\n    this.props.setConfig('colors', colors);\n    console.log(`change highlight color ${i} to ${value}`);\n    Util.addDefaultCss(); // 改变了颜色，需要为当前页重新应用样式\n  }\n\n  // 改变可阅读区域列数\n  changeColumn(event, value) {\n    value = value ? 1 : 2;\n    this.props.setConfig('column', value);\n    console.log(`change column to ${value}`);\n    // TODO: 为单双列模式设置合适的gutter值\n  }\n\n  // 改变gutter的值\n  changeGutter(event) {\n    let value = parseInt(event.target.value);\n    this.props.setConfig('gutter', value);\n    console.log(`change gutter to ${value}`);\n    // TODO: 添加数值验证（不小于80）\n  }\n\n  // 改变padding的值\n  changePadding(event) {\n    let value = parseInt(event.target.value);\n    this.props.setConfig('padding', value);\n    console.log(`change padding to ${value}`);\n    // TODO: 添加数值验证（不小于10）\n  }\n\n  // 改变与字体相关的配置\n  changeFontConfig(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    let num;\n\n    if (value === 'default') {\n      num = 0;\n    } else if (value !== 'default' && isNaN(value)) {\n      alert('Invalid value!');\n      return;\n    } else {\n      num = parseInt(value);\n    }\n\n    this.props.setConfig(name, num);\n    console.log(`change ${name} to ${num}`);\n    // TODO: 添加数值校验\n    Util.addDefaultCss(); // 改变了设置，需要为当前页重新应用样式\n  }\n\n  // 导入用户自定义样式\n  changeUserStyle(event) {\n    let file = event.target.files[0];\n    let reader = new FileReader();\n\n    if (file.type.indexOf('text') === -1) {\n      alert('Invalid stylesheet!');\n      return;\n    }\n    reader.readAsText(file);\n\n    reader.onerror = () => alert('Error! Please refresh the page and try again.');\n    reader.onload = () => {\n      alert('The stylesheet has been imported.');\n      let style = Util.parseStyle(reader.result);\n      console.log(style);\n      localStorage.setItem('style', JSON.stringify(style));\n      Util.applyCss();\n    };\n  }\n\n  // 重置为默认样式\n  resetUserStyle() {\n    let config = Config.getDefaultConfigObj();\n    this.props.setConfig('colors', config.colors);\n    this.props.setConfig('padding', config.padding);\n    this.props.setConfig('gutter', config.gutter);\n    this.props.setConfig('fontSize', config.fontSize);\n    this.props.setConfig('lineHeight', config.lineHeight);\n    this.props.setConfig('letterSpacing', config.letterSpacing);\n    this.props.setConfig('wordSpacing', config.wordSpacing);\n    Util.resetStyle();\n  }\n\n  // 禁用 popup menu\n  disablePopup(event, value) {\n    this.props.setConfig('disablePopup', value);\n    console.log(`disable popup menu: ${value}`);\n  }\n\n  render() {\n    let { classes } = this.props;\n    let { colors, background, gutter, padding, fontSize, lineHeight, letterSpacing, wordSpacing, column, disablePopup } = this.state;\n\n    let style = {\n      color0: {\n        backgroundColor: colors[0],\n      },\n      color1: {\n        backgroundColor: colors[1],\n      },\n      color2: {\n        backgroundColor: colors[2],\n      },\n      color3: {\n        backgroundColor: colors[3],\n      },\n    };\n\n    return (\n      <div id=\"settings\">\n        <Dialog open={this.props.open} onRequestClose={this.handleClose} className={classes.root}>\n          <DialogTitle>Settings</DialogTitle>\n          <DialogContent>\n            <div className={classes.card} style={style.color0}>\n              <div>\n                <Typography align=\"left\" type=\"subheading\">theme</Typography>\n                <Divider/>\n              </div>\n              <div className={classes.box}>\n                <Tooltip placement=\"bottom\" title=\"light theme\">\n                  <SunIcon className={classes.icon} onClick={() => this.changeTheme(true)}/>\n                </Tooltip>\n                <Tooltip placement=\"bottom\" title=\"dark theme\">\n                  <MoonIcon className={classes.icon} style={{marginLeft: 60}} onClick={() => this.changeTheme(false)}/>\n                </Tooltip>\n              </div>\n            </div>\n            <div className={classes.card} style={style.color1}>\n              <div>\n                <Typography align=\"left\" type=\"subheading\">color</Typography>\n                <Divider/>\n              </div>\n              <div>\n                <div className={classes.colorBox} onBlur={this.changeColors} onChange={this.handleColorsChange}>\n                  <div className={classes.colorItem}>\n                    <span className={classes.dot} style={{backgroundColor: colors[0]}}/>\n                    <input className={classes.input} data-color=\"0\" value={colors[0]}/>\n                  </div>\n                  <div className={classes.colorItem}>\n                    <span className={classes.dot} style={{backgroundColor: colors[1]}}/>\n                    <input className={classes.input} data-color=\"1\" value={colors[1]}/>\n                  </div>\n                  <div className={classes.colorItem}>\n                    <span className={classes.dot} style={{backgroundColor: colors[2]}}/>\n                    <input className={classes.input} data-color=\"2\" value={colors[2]}/>\n                  </div>\n                  <div className={classes.colorItem}>\n                    <span className={classes.dot} style={{backgroundColor: colors[3]}}/>\n                    <input className={classes.input} data-color=\"3\" value={colors[3]}/>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className={classes.card} style={style.color2}>\n              <div>\n                <Typography align=\"left\" type=\"subheading\">page</Typography>\n                <Divider/>\n              </div>\n              <div>\n                <div className={classes.controlBox}>\n                  <span className={classes.caption}>column</span>\n                  <div>\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          checked={column === 1}\n                          onChange={this.changeColumn}\n                          classes={{\n                            checked: classes.checked,\n                          }}\n                        />\n                      }\n                      label=\"Use one column\"\n                      title=\"You need to refresh the page.\"\n                    />\n                  </div>\n                </div>\n                <div className={classes.controlBox} onChange={this.handleOtherChange}>\n                  <span className={classes.caption}>gutter</span>\n                  <div>\n                    <input className={classes.input} name=\"gutter\" value={gutter} onBlur={this.changeGutter}/>\n                  </div>\n                </div>\n                <div className={classes.controlBox} onChange={this.handleOtherChange}>\n                  <span className={classes.caption}>padding</span>\n                  <div>\n                    <input className={classes.input} name=\"padding\" value={padding} onBlur={this.changePadding}/>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className={classes.card} style={style.color3}>\n              <div>\n                <Typography align=\"left\" type=\"subheading\">font</Typography>\n                <Divider/>\n              </div>\n              <div onBlur={this.changeFontConfig} onChange={this.handleOtherChange}>\n                <div className={classes.controlBox}>\n                  <span className={classes.caption}>font size</span>\n                  <div title=\"Valid range: 10-100\">\n                    <input className={classes.input} name=\"fontSize\" value={fontSize === 0 ? 'default' : fontSize}/>\n                  </div>\n                </div>\n                <div className={classes.controlBox}>\n                  <span className={classes.caption}>line height</span>\n                  <div title=\"Valid range: 1-100\">\n                    <input className={classes.input} name=\"lineHeight\" value={lineHeight === 0 ? 'default' : lineHeight}/>\n                  </div>\n                </div>\n                <div className={classes.controlBox}>\n                  <span className={classes.caption}>letter spacing</span>\n                  <div title=\"Valid range: 0-100\">\n                    <input className={classes.input} name=\"letterSpacing\" value={letterSpacing === 0 ? 'default' : letterSpacing}/>\n                  </div>\n                </div>\n                <div className={classes.controlBox}>\n                  <span className={classes.caption}>word spacing</span>\n                  <div title=\"Valid range: 0-100\">\n                    <input className={classes.input} name=\"wordSpacing\" value={wordSpacing === 0 ? 'default' : wordSpacing}/>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className={classes.card} style={style.color0}>\n              <div>\n                <Typography align=\"left\" type=\"subheading\">style</Typography>\n                <Divider/>\n              </div>\n              <div className={classes.box}>\n                <label htmlFor=\"custom-style\">\n                  <Tooltip placement=\"bottom\" title=\"import custom stylesheet\">\n                    <StyleIcon className={classes.icon}/>\n                  </Tooltip>\n                  <input type=\"file\" accept=\"text/css\" id=\"custom-style\" className={classes.hide} onChange={this.changeUserStyle}/>\n                </label>\n                <Tooltip placement=\"bottom\" title=\"reset\">\n                  <ResetIcon className={classes.icon} onClick={this.resetUserStyle} style={{marginLeft: 60}}/>\n                </Tooltip>\n              </div>\n            </div>\n            <div className={classes.card} style={style.color1}>\n              <div>\n                <Typography align=\"left\" type=\"subheading\">other</Typography>\n                <Divider/>\n              </div>\n              <div>\n                <div className={classes.controlBox}>\n                  <span className={classes.caption}>popup</span>\n                  <div>\n                    <FormControlLabel\n                      control={\n                        <Checkbox\n                          checked={disablePopup}\n                          onChange={this.disablePopup}\n                          classes={{\n                            checked: classes.checked,\n                          }}\n                        />\n                      }\n                      label=\"Disable popup menu\"\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </DialogContent>\n          <DialogActions color=\"primary\">\n            <Button onClick={this.handleClose}>\n              Close\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nSettingsDialog.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SettingsDialog);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from 'material-ui/styles';\nimport Grid from 'material-ui/Grid';\nimport Typography from 'material-ui/Typography';\nimport { orange } from 'material-ui/colors';\nimport TextIcon from 'material-ui-icons/TextFields';\nimport RemoveIcon from 'material-ui-icons/RemoveCircleOutline';\nimport DoneIcon from 'material-ui-icons/Done';\n\nconst styles = theme => ({\n  item: {\n    padding: '0 10px',\n    height: 40,\n    overflow: 'hidden',\n    transition: '.3s',\n  },\n  container: {\n    margin: 0,\n  },\n  text: {\n    '&:hover': {\n      cursor: 'pointer',\n      color: orange[700],\n    },\n  },\n  input: {\n    width: '100%',\n    border: 'none',\n    outline: 'none',\n    backgroundColor: 'transparent',\n    borderBottom: '1px dotted black',\n    '&:hover': {\n      borderColor: orange[700],\n    },\n    '&:focus': {\n      borderColor: orange[700],\n    },\n  },\n  button: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-around'\n  },\n  icon: {\n    width: 21,\n    height: 21,\n    transition: '.3s',\n    '&:hover': {\n      cursor: 'pointer',\n      color: orange[700],\n    },\n  },\n});\n\nclass BookmarkItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      label: this.props.item.label, // 书签展示的内容\n      editable: false, // 是否可编辑书签内容\n    };\n\n    this.handleClick = this.handleClick.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleSave = this.handleSave.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  // 点击书签，跳转到指定位置\n  handleClick() {\n    let {item, epub} = this.props;\n    epub.gotoCfi(item.cfi);\n    this.props.handleClose();\n  }\n\n  // 点击删除按钮的事件处理程序\n  handleRemove() {\n    let item = this.props.item;\n    console.log('remove bookmark with key: ', item.key);\n    this.props.deleteBookmark(item.key);\n  }\n\n  // 点击编辑按钮的事件处理程序\n  handleEdit() {\n    this.setState({editable: true});\n  }\n\n  // 点击保存按钮的事件处理程序\n  handleSave() {\n    let bookmark = this.props.item;\n    bookmark.label = this.state.label;\n    this.props.updateBookmark(bookmark);\n    this.setState({editable: false});\n  }\n\n  // 编辑bookmark的label的处理程序\n  handleChange(event) {\n    this.setState({\n      label: event.target.value\n    });\n  }\n\n  render() {\n    const classes = this.props.classes;\n\n    let text = (\n      <Typography noWrap className={classes.text} onClick={this.handleClick}>\n        {this.state.label}\n      </Typography>\n    );\n    let input = (\n      <input type=\"text\" value={this.state.label} onChange={this.handleChange} className={classes.input}/>\n    );\n    let editButton = (\n      <TextIcon className={classes.icon} onClick={this.handleEdit}/>\n    );\n    let saveButton = (\n      <DoneIcon className={classes.icon} onClick={this.handleSave}/>\n    );\n    let element = this.state.editable ? input : text;\n    let button =  this.state.editable ? saveButton : editButton;\n\n    return (\n      <li className={classes.item}>\n        <Grid container align=\"center\" className={classes.container}>\n          <Grid item xs={9}>\n            <div>\n              {element}\n            </div>\n          </Grid>\n          <Grid item xs={3}>\n            <div className={classes.button}>\n              {button}\n              <RemoveIcon className={classes.icon} onClick={this.handleRemove}/>\n            </div>\n          </Grid>\n        </Grid>\n      </li>\n    );\n  }\n}\n\nBookmarkItem.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(BookmarkItem);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from 'material-ui/styles';\nimport Typography from 'material-ui/Typography';\nimport Drawer from 'material-ui/Drawer';\nimport BookmarkItem from './Bookmark';\nimport Button from 'material-ui/Button'\nconst styles = theme => ({\n  title: {\n    marginTop: 10,\n  },\n  list: {\n    width: 280,\n    padding: 0,\n    listStyle: 'none',\n    overflowX: 'hidden',\n  },\n});\n\nclass Bookmarks extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {open: true};\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  handleClose() {\n    this.props.toggleBookmarks(false);\n  }\n\n  render() {\n    const classes = this.props.classes;\n\n    return (\n      <div id=\"bookmarks\">\n        <Drawer open={this.props.open} onRequestClose={this.handleClose} >\n          <div className={classes.title}>\n            <Typography type=\"headline\" align=\"center\" gutterBottom>Bookmarks</Typography>\n          </div>\n          <ul className={classes.list}>\n            {\n              this.props.bookmarks.map(item => {\n                return (\n                  <BookmarkItem\n                    key={item.key}\n                    item={item}\n                    epub={this.props.epub}\n                    handleClose={this.handleClose}\n                    updateBookmark={this.props.updateBookmark}\n                    deleteBookmark={this.props.deleteBookmark}\n                  />\n                );\n              })\n            }\n          </ul>\n          <Button type=\"primary\" onClick={this.handleClose}>CLOSE</Button>\n        </Drawer>\n      </div>\n    );\n  }\n}\n\nBookmarks.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Bookmarks);\n","// 数据库访问的工具类\n// TODO 使用相应的IndexedDB库以提高查询效率\nclass DBUtil {\n  constructor(dbName, storeName, version = 1) {\n    if (!window.indexedDB) {\n      console.error(\"Your browser doesn't support a stable version of IndexedDB. Such and such feature will not be available.\");\n      return {};\n    }\n\n    this.dbName = dbName;\n    this.storeName = storeName;\n    this.version = version;\n    this.db = null;\n\n    let request = indexedDB.open(dbName, version);\n    request.onsuccess = e => {\n      this.db = e.target.result;\n    };\n    request.onerror = e => {\n      console.error('Something bad happened while trying to open:' + e.target.errorCode);\n    };\n    request.onupgradeneeded = e => {\n      this.db = e.target.result;\n      if (!this.db.objectStoreNames.contains(storeName)) {\n        // 存入数据库的所有对象都必须拥有唯一的 key 属性作为键\n        this.db.createObjectStore(storeName, {keyPath: 'key'});\n      } else {\n        console.log('DB version changed, db version: ', this.db.version);\n      }\n    };\n  }\n\n  open(success, error) {\n    let req = indexedDB.open(this.dbName);\n    req.onsuccess = e => {\n      console.log(`open database ${this.dbName} successfully`);\n      this.db = e.target.result;\n      return success ? success() : '';\n    };\n    req.onerror = () => {\n      console.error(`Can\\'t open database ${this.dbName}`);\n      return error ? error() : '';\n    };\n  }\n\n  add(value, success, error) {\n    const t = this.db.transaction(this.storeName, 'readwrite');\n    const store = t.objectStore(this.storeName);\n    let req = store.add(value);\n    req.onsuccess = e => {\n      return success ? success(e.target.result) : '';\n      console.log(`add data to database ${this.dbName} -> ${this.storeName} successfully`);\n    };\n    req.onerror = () => {\n      console.error(`Can\\'t add data to database ${this.dbName} -> ${this.storeName}`);\n      return error ? error() : '';\n    };\n  }\n\n  remove(key, success, error) {\n    const t = this.db.transaction(this.storeName, 'readwrite');\n    const store = t.objectStore(this.storeName);\n    let req = store.delete(key);\n    req.onsuccess = e => {\n      console.log(`remove data with key ${key} from database ${this.dbName} -> ${this.storeName} successfully`);\n      return success ? success(e.target.result) : '';\n    };\n    req.onerror = () => {\n      console.error(`Can\\'t remove data with key ${key} from database ${this.dbName} -> ${this.storeName}`);\n      return error ? error() : '';\n    };\n  }\n\n  get(key, success, error) {\n    const t = this.db.transaction(this.storeName, 'readonly');\n    const store = t.objectStore(this.storeName);\n    let req = store.get(key);\n    req.onsuccess = e => {\n      console.log(`get data from database ${this.dbName} -> ${this.storeName} successfully`);\n      return success ? success(e.target.result) : '';\n    };\n    req.onerror = () => {\n      console.error(`Can\\'t get data with key ${key} from ${this.dbName} -> ${this.storeName}`);\n      return error ? error() : '';\n    };\n  }\n\n  getAll(success, error) {\n    const t = this.db.transaction(this.storeName, 'readonly');\n    const store = t.objectStore(this.storeName);\n    let req = store.openCursor();\n    let result = [];\n    req.onsuccess = e => {\n      let cursor = e.target.result;\n      if (cursor) {\n        result.push(cursor.value);\n        cursor.continue();\n      } else {\n        console.log(`get all data from database ${this.dbName} -> ${this.storeName} successfully`);\n        success(result);\n      }\n    };\n    req.onerror = () => {\n      console.error(`Can\\'t get data from database ${this.dbName} -> ${this.storeName}`);\n      return error ? error() : '';\n    };\n  }\n\n  update(value, success, error) {\n    const t = this.db.transaction(this.storeName, 'readwrite');\n    const store = t.objectStore(this.storeName);\n    let req = store.put(value);\n    req.onsuccess = e => {\n      console.log(`update data successfully`);\n      return success ? success(e.target.result) : '';\n    };\n    req.onerror = () => {\n      console.error(`Can\\'t update data`);\n      return error ? error() : '';\n    };\n  }\n\n  close() {\n    this.db.close();\n  }\n}\n\nexport default DBUtil;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from 'material-ui/styles';\nimport { grey, orange } from 'material-ui/colors';\nimport Typography from 'material-ui/Typography';\nimport ArrowIcon from 'material-ui-icons/ArrowForward';\nimport ClearIcon from 'material-ui-icons/Clear';\n\nconst styles = theme => ({\n  item: {\n    width: '90%',\n    height: 80,\n    padding: 10,\n    margin: '15px auto',\n    borderRadius: 5,\n    display: 'flex',\n    alignItems: 'center',\n    boxShadow: theme.shadows[1],\n    transition: '.3s',\n    '&:hover': {\n      boxShadow: theme.shadows[6],\n    }\n  },\n  noteContent: {\n    width: '70%',\n    flexGrow: '1',\n  },\n  input: {\n    border: 'none',\n    outline: 'none',\n    color: grey[600],\n    width: '100%',\n    backgroundColor: 'transparent',\n    borderBottom: '1px dotted black',\n  },\n  icon: {\n    width: 18,\n    height: 18,\n    color: grey[700],\n    display: 'block',\n    transition: '.3s',\n    '&:hover': {\n      cursor: 'pointer',\n      color: orange[700],\n    },\n  },\n});\n\nclass Note extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      note: this.props.note.note, // note的内容\n      editable: false, // 是否可编辑note内容\n    };\n\n    this.handleJump = this.handleJump.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleBlur = this.handleBlur.bind(this);\n  }\n\n  handleJump() {\n    this.props.handleJump(this.props.note.cfi);\n  }\n\n  handleDelete() {\n    this.props.deleteNote(this.props.note.key);\n  }\n\n  handleEdit() {\n    this.setState({editable: true});\n  }\n\n  handleChange(event) {\n    this.setState({note: event.target.value});\n  }\n\n  handleBlur(event) {\n    let note = this.props.note;\n    note.note = event.target.value;\n    this.props.updateNote(note);\n    this.setState({editable: false});\n    console.log('note has been updated!');\n  }\n\n  render() {\n    const {note, colors, classes} = this.props;\n    let style = {\n      backgroundColor: colors[note.color],\n    };\n    let margin = {\n      marginTop: 15,\n    };\n\n    let text = (\n      <Typography noWrap\n                  color={'secondary'}\n                  onClick={this.handleEdit}\n      >\n        {this.state.note}\n      </Typography>\n    );\n    let input = (\n      <input type=\"text\"\n             autoFocus=\"autofocus\"\n             value={this.state.note}\n             className={classes.input}\n             onChange={this.handleChange}\n             onBlur={this.handleBlur}\n      />\n    );\n\n    return (\n      <li>\n        <div style={style} className={classes.item}>\n          <div className={classes.noteContent}>\n            <div>\n              <Typography noWrap type={'body2'}>{note.text}</Typography>\n            </div>\n            <div>\n              {this.state.editable ? input : text}\n            </div>\n          </div>\n          <div>\n            <ClearIcon className={classes.icon} onClick={this.handleDelete}/>\n            <ArrowIcon className={classes.icon} onClick={this.handleJump} style={margin}/>\n          </div>\n        </div>\n      </li>\n    );\n  }\n}\n\nNote.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Note);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from 'material-ui/styles';\nimport Typography from 'material-ui/Typography';\nimport Divider from 'material-ui/Divider';\nimport Button from 'material-ui/Button';\nimport Drawer from 'material-ui/Drawer';\nimport Note from './Note';\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  title: {\n    marginTop: 10,\n  },\n  list: {\n    width: 280,\n    padding: 0,\n    listStyle: 'none',\n    flexGrow: 2,\n    overflowX: 'hidden',\n  },\n  foot: {\n    display: 'flex',\n    flexShrink: 0,\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    width: '100%',\n    height: 40,\n    padding: '0 10px',\n  },\n});\n\nclass Notes extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClose = this.handleClose.bind(this);\n    this.handleJump = this.handleJump.bind(this);\n    this.handleExport = this.handleExport.bind(this);\n  }\n\n  handleClose() {\n    this.props.toggleNotes(false);\n  }\n\n  handleJump(cfi) {\n    this.props.epub.gotoCfi(cfi);\n  }\n\n  handleExport() {\n    this.props.toggleExport(true);\n  }\n\n  render() {\n    const {notes, colors, classes} = this.props;\n\n    return (\n      <div id=\"notes\">\n        <Drawer open={this.props.open} onRequestClose={this.handleClose}  onClick={this.handleClose} anchor=\"right\" className={classes.root}>\n          <div className={classes.title}>\n            <Typography type=\"headline\" align=\"center\" gutterBottom>Notes</Typography>\n          </div>\n          <ul className={classes.list}>\n            {\n              notes.map((item) => {\n                return (\n                  <Note key={item.key}\n                        note={item}\n                        colors={colors}\n                        deleteNote={this.props.deleteNote}\n                        updateNote={this.props.updateNote}\n                        handleJump={this.handleJump}\n                  />\n                );\n              })\n            }\n          </ul>\n          <Divider/>\n\n          <div className={classes.foot}>\n            <Button onClick={this.handleExport} color=\"accent\" dense>\n              export\n            </Button>\n          </div>\n        </Drawer>\n      </div>\n    );\n  }\n}\n\nNotes.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(Notes);\n","import React from 'react';\nimport Snackbar from 'material-ui/Snackbar';\nimport Button from 'material-ui/Button';\n\nclass Message extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClose = this.handleClose.bind(this);\n  }\n\n  handleClose() {\n    this.props.toggleMessage(false);\n  }\n\n  render() {\n    let {open} = this.props;\n\n    return (\n      <Snackbar\n        anchorOrigin={{vertical: 'top', horizontal: 'right'}}\n        open={open}\n        autoHideDuration={4000}\n        onRequestClose={this.handleClose}\n        SnackbarContentProps={{\n          'aria-describedby': 'message',\n        }}\n        message={<span id=\"message\">Add bookmark successfully.</span>}\n        action={[\n          <Button key=\"dismiss\" color=\"accent\" dense onClick={this.handleClose}>\n            DISMISS\n          </Button>,\n        ]}\n      />\n    );\n  }\n}\n\nexport default Message;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from 'material-ui/styles';\nimport {grey, orange} from 'material-ui/colors';\nimport IconButton from 'material-ui/IconButton';\nimport CopyIcon from 'material-ui-icons/ContentCut';\nimport Dialog from 'material-ui/Dialog';\nimport Divider from 'material-ui/Divider';\nimport CloseIcon from 'material-ui-icons/Close';\nimport Slide from 'material-ui/transitions/Slide';\nimport Tooltip from 'material-ui/Tooltip';\n\nconst styles = theme => ({\n  head: {\n    width: '100%',\n    height: 60,\n    padding: '0 30px',\n    top: 0,\n    position: 'fixed',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    borderBottomWidth: 1,\n    borderBottomStyle: 'solid',\n    borderColor: theme.palette.text.divider,\n    backgroundColor: theme.palette.background.paper,\n  },\n  logo: {\n    fontFamily: '\\'Titillium Web\\', sans-serif',\n    fontSize: '1.5rem',\n    color: theme.palette.text.primary,\n  },\n  headRight: {\n    display: 'flex',\n  },\n  icon: {\n    width: 20,\n    height: 20,\n  },\n  article: {\n    overflowY: 'auto',\n    width: '100vw',\n    height: '100vh',\n    marginTop: 60,\n  },\n  page: {\n    width: 660,\n    margin: '50px auto 0',\n    fontFamily: '\\'Helvetica Neue\\', \\'Arial\\', \\'PingFang SC\\', \\'Hiragino Sans GB\\', \\'Microsoft YaHei\\', \\'WenQuanYi Micro Hei\\', sans-serif',\n    color: theme.palette.text.primary,\n  },\n  title: {\n    fontFamily: 'Georgia, Palatino, serif',\n    fontSize: '24px',\n    fontWeight: 400,\n    lineHeight: '30px',\n    textAlign: 'center',\n    paddingBottom: 10,\n  },\n  note: {\n    margin: '20px 0',\n  },\n  quote: {\n    borderColor: orange[400],\n    borderLeft: '6px solid',\n    backgroundColor: grey[200],\n    borderRadius: '5px',\n    padding: '15px 10px',\n    color: 'rgba(0, 0, 0, 0.87)',\n  },\n  annotation: {\n    marginTop: '20px',\n    fontSize: '14px',\n    paddingLeft: '16px',\n  },\n});\n\nfunction Transition(props) {\n  return <Slide direction=\"up\" {...props} />;\n}\n\nclass ExportPanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClose = this.handleClose.bind(this);\n    this.generateArticle = this.generateArticle.bind(this);\n    this.handleCopy = this.handleCopy.bind(this);\n  }\n\n  handleClose() {\n    this.props.toggleExport(false);\n  }\n\n  // format为则true导出为plain text，否则导出为markdown\n  generateArticle(format) {\n    let {notes} = this.props;\n    let article = '';\n    let divider = format ? '\\n*** *** ***\\n\\n' : '\\n* * * * * *\\n\\n';\n\n    notes.forEach((note) => {\n      let fragment = format ? '' : '> ';\n      fragment += note.text;\n      fragment += '\\n\\n';\n      fragment += note.note ? `${note.note}\\n` : '';\n      fragment += divider;\n      article += fragment;\n    });\n\n    return article;\n  }\n\n  copyHandler = (event) => {\n    let text = this.generateArticle(true);\n    event.clipboardData.setData('text/plain', text);\n    event.preventDefault();\n    console.log('notes copied!');\n    alert('Notes has been copied.');\n  };\n\n  // 复制纯文本\n  handleCopy() {\n    document.addEventListener('copy', this.copyHandler);\n    document.execCommand('copy', false, null);\n    setTimeout(() => {\n      document.removeEventListener('copy', this.copyHandler);\n    }, 1000);\n  }\n\n  render() {\n    const { open, notes, book, classes } = this.props;\n\n    return (\n      <div id=\"export-panel\">\n        <Dialog\n          fullScreen\n          open={open}\n          onRequestClose={this.handleClose}\n          transition={Transition}\n        >\n          <div className={classes.head}>\n            <div className={classes.logo}>\n              Notes Preview\n            </div>\n            <div className={classes.headRight}>\n              <Tooltip title=\"copy\" placement=\"bottom\">\n                <IconButton onClick={this.handleCopy}>\n                  <CopyIcon className={classes.icon}/>\n                </IconButton>\n              </Tooltip>\n              <IconButton onClick={this.handleClose}>\n                <CloseIcon/>\n              </IconButton>\n            </div>\n          </div>\n          <div className={classes.article}>\n            <div className={classes.page}>\n              <h1 className={classes.title}>{ book.name }</h1>\n              {\n                notes.map((note) => {\n                  return (\n                    <div key={note.key}>\n                      <div className={classes.note}>\n                        <blockquote className={classes.quote}>\n                          {note.text}\n                        </blockquote>\n                        <p className={classes.annotation}>\n                          {note.note}\n                        </p>\n                      </div>\n                      <Divider/>\n                    </div>\n                  );\n                })\n              }\n            </div>\n          </div>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nExportPanel.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(ExportPanel);\n","import React, { Component } from 'react';\nimport { Route, Link } from \"react-router-dom\";\nimport { enquireScreen } from 'enquire-js';\nimport Header from './Home/Nav0';\nimport Footer from './Home/Footer0';\nimport Home from './Home';\nimport Page3 from './Page3';\nimport BookIndex from './Page2/book_index_container';\nimport Book from './Page2/book_show_container';\n//import  Reader from\"./reader\"\nimport SReader from './Reader/Control/App'\nimport Session from \"./Session\"\nimport Admin from \"./Page4\"\nimport {\n    Nav00DataSource,\n    Footer00DataSource,\n} from './Home/data.source.js';\n\nlet isMobile;\nenquireScreen((b) => {\n    isMobile = b;\n});\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isMobile,\n        };\n    }\n    componentDidMount() {\n        // 适配手机屏幕;\n        enquireScreen((b) => {\n            this.setState({ isMobile: !!b });\n        });\n    }\n    render() {\n        return (\n\n                <div>\n\n                    <Header dataSource={Nav00DataSource} isMobile={this.isMobile} />\n                    <Route exact path=\"/\" component={Home} />\n                    <Route exact path=\"/page2\" component={BookIndex} />\n                    <Route exact path=\"/page2/:id\" component={ Book }/>\n                    <Route exact path =\"/admin\" component={Admin}/>\n                    <Route exact path=\"/page3\" component={Page3} />\n                    <Route exact path=\"/session\" component={Session} />\n                    <Route exact path=\"/page2/reader/:id\" component={SReader}/>\n                    <Footer dataSource={Footer00DataSource} isMobile={this.isMobile} />\n\n                </div>\n\n        );\n    }\n}\n\nexport default App;","import React from 'react';\nimport Navigation from './Navigation';\nimport ViewArea from './ViewArea';\nimport Toolbar from './Toolbar';\nimport SettingsDialog from './SettingsDialog';\nimport Bookmarks from './Bookmarks';\nimport DBUtil from '../service/DBUtil';\nimport Notes from './Notes';\nimport Config from '../service/Config';\nimport Message from './Message';\nimport ExportPanel from './ExportPanel';\nconst ePub = window.ePub;\n\n//import ePub from 'epubjs'\nconst rangy = window.rangy;\nclass Viewer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openSettings: false, // 打开设置面板\n      openBookmarks: false, // 打开书签列表\n      openNotes: false, // 打开笔记列表\n      openMessage: false, // 打开消息通知\n      openExport: false, // 打开note导出面板\n      bookmarks: [], // 书签列表\n      notes: [], // note列表\n      colors: Config.get().colors, // note的四种颜色\n      background: Config.get().background, // 阅读区域的背景色\n      gutter: Config.get().gutter, // 阅读区域两侧预留的间隔\n      padding: Config.get().padding, // 阅读区域上下两侧预留的间隔\n      fontSize: Config.get().fontSize, // 字体大小\n      lineHeight: Config.get().lineHeight, // 行高\n      letterSpacing: Config.get().letterSpacing, // 字间距\n      wordSpacing: Config.get().wordSpacing, // 词间距（限英语）\n      column: Config.get().column, // 列数\n      disablePopup: Config.get().disablePopup, // 禁用弹出菜单\n    };\n\n    this.epub = null;\n\n    this.toggleSettingsDialog = this.toggleSettingsDialog.bind(this);\n    this.toggleBookmarks = this.toggleBookmarks.bind(this);\n    this.toggleNotes = this.toggleNotes.bind(this);\n    this.toggleMessage = this.toggleMessage.bind(this);\n    this.toggleExport = this.toggleExport.bind(this);\n    this.addBookmark = this.addBookmark.bind(this);\n    this.deleteBookmark = this.deleteBookmark.bind(this);\n    this.updateBookmark = this.updateBookmark.bind(this);\n    this.addNote = this.addNote.bind(this);\n    this.deleteNote = this.deleteNote.bind(this);\n    this.updateNote = this.updateNote.bind(this);\n    this.getNote = this.getNote.bind(this);\n    this.getNotesByChapter = this.getNotesByChapter.bind(this);\n    this.setConfig = this.setConfig.bind(this);\n  }\n\n  componentWillMount() {\n    let dbAccess = new DBUtil('bookmarks', 'bookmark');\n    dbAccess.open(\n      () => {\n        dbAccess.getAll(result => {\n          let bookmarksArr;\n          bookmarksArr = result.filter(item => item.bookKey === this.props.epubTitle.id);\n          this.setState({bookmarks: bookmarksArr});\n        });\n      }\n    );\n\n    let noteDBAccess = new DBUtil('notes', 'note');\n    noteDBAccess.open(\n      () => {\n        noteDBAccess.getAll(result => {\n          let noteArr;\n          noteArr = result.filter(item => item.bookKey === this.props.epubTitle.id);\n          this.setState({notes: noteArr});\n        });\n      }\n    );\n    //console.log(this.props.epubTitle)\n    this.epub = ePub( window.webBase+\"api/epub/\"+this.props.epubTitle.id+\".epub\");\n  }\n\n  componentDidMount() {\n    rangy.init(); // 初始化\n  }\n\n  // 为state的属性设置相应的值\n  setConfig(key, value) {\n    this.setState({[key]: value});\n    Config.set(key, value);\n  }\n\n  toggleSettingsDialog(open) {\n    this.setState({openSettings: open});\n  }\n\n  toggleBookmarks(open) {\n    this.setState({openBookmarks: open});\n  }\n\n  toggleNotes(open) {\n    this.setState({openNotes: open});\n  }\n\n  toggleMessage(open) {\n    this.setState({openMessage: open});\n  }\n\n  toggleExport(open) {\n    this.setState({openExport: open});\n  }\n\n  // 添加书签\n  addBookmark(bookmark) {\n    let dbAccess = new DBUtil('bookmarks', 'bookmark');\n    dbAccess.open(\n      () => {\n        dbAccess.add(bookmark);\n        let bookmarksArr = this.state.bookmarks;\n        bookmarksArr.push(bookmark);\n        this.setState({bookmarks: bookmarksArr});\n      }\n    );\n  }\n\n  // 删除书签\n  deleteBookmark(key) {\n    let dbAccess = new DBUtil('bookmarks', 'bookmark');\n    dbAccess.open(\n      () => {\n        dbAccess.remove(key);\n        let bookmarksArr = this.state.bookmarks;\n        bookmarksArr = bookmarksArr.filter(item => item.key !== key);\n        this.setState({bookmarks: bookmarksArr});\n      }\n    );\n  }\n\n  // 更新书签内容\n  updateBookmark(bookmark) {\n    let dbAccess = new DBUtil('bookmarks', 'bookmark');\n    dbAccess.open(\n      () => {\n        dbAccess.update(bookmark);\n        let bookmarksArr = this.state.bookmarks;\n        bookmarksArr.forEach((item, i, arr) => {\n          if (item.key === bookmark.key)\n            arr[i] = bookmark;\n        });\n        this.setState({bookmarks: bookmarksArr});\n      }\n    );\n  }\n\n  // 添加note\n  addNote(note) {\n    let dbAccess = new DBUtil('notes', 'note');\n    dbAccess.open(\n      () => {\n        dbAccess.add(note);\n        let noteArr = this.state.notes;\n        noteArr.push(note);\n        this.setState({notes: noteArr});\n      }\n    );\n  }\n\n  // 删除note\n  deleteNote(key) {\n    let dbAccess = new DBUtil('notes', 'note');\n    dbAccess.open(\n      () => {\n        dbAccess.remove(key);\n        let noteArr = this.state.notes;\n        noteArr = noteArr.filter(item => item.key !== key);\n        this.setState({notes: noteArr});\n      }\n    );\n  }\n\n  // 更新note内容\n  updateNote(note) {\n    let dbAccess = new DBUtil('notes', 'note');\n    dbAccess.open(\n      () => {\n        dbAccess.update(note);\n        let noteArr = this.state.notes;\n        noteArr.forEach((item, i, arr) => {\n          if (item.key === note.key)\n            arr[i] = note;\n        });\n        this.setState({notes: noteArr});\n      }\n    );\n  }\n\n  // 获取指定key的note\n  getNote(key) {\n    let notes = this.state.notes;\n    let target = null;\n\n    notes.forEach((item) => {\n      if (item.key === key) target = item;\n    });\n\n    return target;\n  }\n\n  // 获取指定章节的note\n  getNotesByChapter(chapter) {\n    let notes = this.state.notes;\n\n    return notes.filter(item => item.chapter === chapter);\n  }\n\n  render() {\n    let epub = this.epub;\n    let {readingBook} = this.props;\n    let { openSettings, openBookmarks, openNotes, openMessage, openExport, bookmarks, notes, colors, background, gutter, padding, fontSize, lineHeight, letterSpacing, wordSpacing, column, disablePopup } = this.state;\n\n    return (\n      <div id=\"viewer\">\n        <Navigation epub={epub}\n                    theme={this.props.theme}\n        />\n        <ViewArea epub={epub}\n                  book={this.props.readingBook}\n                  addNote={this.addNote}\n                  getNote={this.getNote}\n                  deleteNote={this.deleteNote}\n                  updateNote={this.updateNote}\n                  getNotesByChapter={this.getNotesByChapter}\n                  theme={this.props.theme}\n                  background={background}\n                  gutter={gutter}\n                  padding={padding}\n                  colors={colors}\n                  column={column}\n                  disablePopup={disablePopup}\n                  epubTitle={this.props.epubTitle}\n        />\n        <Toolbar handleReading={this.props.handleReading}\n                 toggleMessage={this.toggleMessage}\n                 toggleSettingsDialog={this.toggleSettingsDialog}\n                 toggleBookmarks={this.toggleBookmarks}\n                 toggleNotes={this.toggleNotes}\n                 handleAddBookmark={this.addBookmark}\n                 readingBook={this.props.readingBook}\n                 epub={epub}\n                 epubTitle={this.props.epubTitle}\n        />\n        <Bookmarks open={openBookmarks}\n                   toggleBookmarks={this.toggleBookmarks}\n                   bookmarks={bookmarks}\n                   deleteBookmark={this.deleteBookmark}\n                   updateBookmark={this.updateBookmark}\n                   getBookmark={this.getBookmark}\n                   epub={epub}\n                   epubTitle={this.props.epubTitle}\n        />\n        <Notes open={openNotes}\n               toggleNotes={this.toggleNotes}\n               toggleExport={this.toggleExport}\n               notes={notes}\n               colors={colors}\n               deleteNote={this.deleteNote}\n               updateNote={this.updateNote}\n               epub={epub}\n        />\n        <SettingsDialog open={openSettings}\n                        toggleSettingsDialog={this.toggleSettingsDialog}\n                        toggleTheme={this.props.toggleTheme}\n                        setConfig={this.setConfig}\n                        colors={colors}\n                        background={background}\n                        gutter={gutter}\n                        padding={padding}\n                        fontSize={fontSize}\n                        lineHeight={lineHeight}\n                        letterSpacing={letterSpacing}\n                        wordSpacing={wordSpacing}\n                        column={column}\n                        disablePopup={disablePopup}\n        />\n        <Message open={openMessage} toggleMessage={this.toggleMessage}/>\n        <ExportPanel open={openExport}\n                     book={readingBook}\n                     notes={notes}\n                     theme={this.props.theme}\n                     toggleExport={this.toggleExport}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Viewer;\n","import React from 'react';\nimport Viewer from './Viewer';\nimport { MuiThemeProvider, createMuiTheme } from 'material-ui/styles';\nimport Config from \"../service/Config\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isReading: true, // 书籍是否正在被阅读\n      readingBook: {\n        author:\"\",\n        description:\"\",\n        key:\"\",\n        name:\"\",\n        content:[],\n      }, // 正在被阅读的书籍对象\n      theme: Config.get().theme, // true为light主题，false为dark主题\n    };\n\n    this.handleReading = this.handleReading.bind(this);\n    this.handleReadingBook = this.handleReadingBook.bind(this);\n    this.toggleTheme = this.toggleTheme.bind(this);\n  }\n\n  handleReading(isReading) {\n    this.setState({isReading: isReading});\n  }\n\n  handleReadingBook(book) {\n    this.setState({readingBook: book});\n  }\n\n  // 切换主题\n  toggleTheme(theme) {\n    this.setState({theme});\n    Config.set('theme', theme);\n  }\n\n  render() {\n    let {isReading, readingBook, theme} = this.state;\n\n    const themeType = createMuiTheme({\n      palette: {\n        type: theme ? 'light' : 'dark',\n      },\n    });\n\n    let viewer = (\n      <Viewer handleReading={this.handleReading}\n              readingBook={readingBook}\n              toggleTheme={this.toggleTheme}\n              theme={theme}\n              epubTitle = {this.props.match.params}\n      />\n    );\n    let element = viewer;\n    //let element = viewer;\n    let bgColor;\n    if (isReading && theme) bgColor = Config.get().background || '#fff';\n    else if (isReading && !theme) bgColor = '#424242';\n    else if (!isReading && theme) bgColor = '#f1f2f3';\n    else if (!isReading && !theme) bgColor = '#424242';\n    document.body.style.backgroundColor = bgColor;\n\n    return (\n      <MuiThemeProvider theme={themeType}>\n        <div id=\"app\">\n          {element}\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { Form, Icon, Input, Button,Alert} from 'antd';\r\nconst Search = Input.Search;\r\nclass SessionForm extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            username2:\"\",\r\n            password2:\"\",\r\n            errors: this.props.errors\r\n        };\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.guestSubmit = this.guestSubmit.bind(this);\r\n        this.handleRegister = this.handleRegister.bind(this);\r\n        this.toAdmin = this.toAdmin.bind(this);\r\n    }\r\n\r\n\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const user = Object.assign({}, this.state);\r\n        this.props.clearErrors();\r\n        this.props.processForm(user)\r\n            .then(() => { this.setState({ errors: this.props.errors }); });\r\n\r\n    }\r\n    handleRegister(e) {\r\n        e.preventDefault();\r\n        const user = {\r\n            username:this.state.username2,\r\n            password:this.state.password2,\r\n        };\r\n        this.props.clearErrors();\r\n        this.props.processRegister(user)\r\n            .then(() => { this.setState({ errors: this.props.errors }); });\r\n\r\n    }\r\n    componentWillReceiveProps() {\r\n        if (this.props.errors.length < 1) {\r\n            this.setState({ errors: []});\r\n        }\r\n    }\r\n\r\n    guestSubmit(e) {\r\n        e.preventDefault();\r\n        this.props.processForm({\r\n            username: \"guest\",\r\n            password: \"password\"\r\n        });\r\n    }\r\n\r\n    update(field) {\r\n        return e => this.setState({\r\n            [field]: e.currentTarget.value\r\n        });\r\n    }\r\n\r\n    toAdmin() {\r\n        this.props.history.push(\"/admin\");\r\n    }\r\n    guestlogin() {\r\n        if(this.props.loggedIn === false) {\r\n            return (\r\n                <Button type=\"primary\"onClick={this.guestSubmit} className=\"login-form-button\">\r\n                    以guest身份登录\r\n                </Button>\r\n            );\r\n        }\r\n    }\r\n    handleAlert() {\r\n        if(this.props.loggedIn === false) {\r\n            return (\r\n                <Alert message=\"未登录\" type=\"error\" />\r\n            );\r\n        } else {\r\n            return (\r\n                <Alert message=\"已登录\" type=\"success\" />\r\n            );\r\n        }\r\n    }\r\n    displayLogin() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        if(this.props.loggedIn === false){\r\n            return (\r\n                <Form onSubmit={this.handleSubmit} >\r\n                    <Form.Item>\r\n                        {getFieldDecorator('username', {\r\n                            rules: [{ required: true, message: 'Please input your username!' }],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                placeholder=\"Username\"\r\n                                onChange={this.update('username')}\r\n                                required\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('password', {\r\n                            rules: [{ required: true, message: 'Please input your Password!' }],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                type=\"password\"\r\n                                placeholder=\"Password\"\r\n                                onChange={this.update('password')}\r\n                                required\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                            登录\r\n                        </Button>\r\n                        <div className=\"login-form-button\">{ this.guestlogin() }</div>\r\n                    </Form.Item>\r\n                </Form>\r\n            )\r\n        }\r\n    }\r\n    render() {\r\n        //document.title = \"Awesome Readers\";\r\n        const { getFieldDecorator } = this.props.form;\r\n        return (\r\n            <div className=\"login-form\">\r\n                <div>{ this.handleAlert() }</div>\r\n                <Button type=\"primary\" onClick={this.props.logout}>登出</Button>\r\n                {this.displayLogin()}\r\n\r\n\r\n                <Form onSubmit={this.handleRegister} >\r\n                    <Form.Item>\r\n                        {getFieldDecorator('username2', {\r\n                            rules: [{ required: true, message: 'Please input your username!' }],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                placeholder=\"Username\"\r\n                                onChange={this.update('username2')}\r\n                                required\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('password2', {\r\n                            rules: [{ required: true, message: 'Please input your Password!' }],\r\n                        })(\r\n                            <Input\r\n                                prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                                type=\"password\"\r\n                                placeholder=\"Password\"\r\n                                onChange={this.update('password2')}\r\n                                required\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                            注册\r\n                        </Button>\r\n\r\n                    </Form.Item>\r\n                </Form>\r\n\r\n                <Search placeholder=\"输入管理员口令\"\r\n                        enterButton=\"管理员登录\"\r\n                        onSearch={(value) => {\r\n                    if(value === \"root\") this.toAdmin()\r\n                }}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nconst WrappedNormalLoginForm = Form.create({ name: 'normal_login' })(SessionForm);\r\nexport default withRouter(WrappedNormalLoginForm );\r\n","import { connect } from 'react-redux';\r\nimport { receiveErrors, clearErrors } from '../../actions/error_actions';\r\nimport { login, logout, signup ,register } from '../../actions/session_actions';\r\nimport SessionForm from './session_form';\r\n\r\nconst mapStateToProps = ({ session, errors }) => {\r\n    return {\r\n        loggedIn: Boolean(session.currentUser),\r\n        errors\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        processForm: user => dispatch(login(user)),\r\n        processRegister: user => dispatch(register(user)),\r\n        clearErrors: () => { return dispatch(clearErrors()); },\r\n        logout: ()=>{return dispatch(logout())}\r\n    };\r\n};\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(SessionForm);\r\n","import React from 'react';\r\nimport {withRouter} from 'react-router';\r\nimport SessionFormContainer from './session_form_container';\r\nimport './index.css'\r\nclass Session extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.loggedIn) {\r\n            this.props.history.push('/books');\r\n        }\r\n    }\r\n\r\n    top() {\r\n        return(\r\n            <section className='sign-up-container'>\r\n                <SessionFormContainer />\r\n            </section>\r\n        );\r\n\r\n    }\r\n    //this.props.loggedIn === false\r\n    render() {\r\n        if (1) {\r\n            return (\r\n                <div className='landing-page'>\r\n                    { this.top() }\r\n                </div>\r\n\r\n            );\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nexport default withRouter(Session);\r\n","import React from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { Form, Icon, Input, Button, Checkbox ,Upload, message } from 'antd';\r\nimport \"./index.css\"\r\nimport {receiveErrors} from \"../../actions/error_actions\";\r\nimport {receiveCurrentUser} from \"../../actions/session_actions\";\r\n\r\nconst Search = Input.Search;\r\nclass Index extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state= {\r\n            author:\"\",\r\n            title:\"\",\r\n            description:\"\",\r\n            cover_img_url:\"\",\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n    handleSubmit() {\r\n        const book = Object.assign({}, this.state);\r\n        console.log(book);\r\n        fetch( window.webBase+\"api/upload\", {\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            method: 'POST',\r\n            body: JSON.stringify(book)\r\n        }).then(res=>res.json()).then(json => (console.log(json)\r\n        ), err => (\r\n           console.log(err)\r\n        ))\r\n    }\r\n    update(field) {\r\n        return e => this.setState({\r\n            [field]: e.currentTarget.value\r\n        });\r\n    }\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        const props = {\r\n            name: 'epub',\r\n            action: window.webBase+\"api/upload_epub\",\r\n            headers: {\r\n                authorization: 'authorization-text',\r\n            },\r\n            onChange(info) {\r\n                if (info.file.status !== 'uploading') {\r\n                    console.log(info.file, info.fileList);\r\n                }\r\n                if (info.file.status === 'done') {\r\n                    message.success(`${info.file.name} file uploaded successfully`);\r\n                } else if (info.file.status === 'error') {\r\n                    message.error(`${info.file.name} file upload failed.`);\r\n                }\r\n            },\r\n        };\r\n        return (\r\n            <div className=\"login-form\">\r\n                <h1 className='logo'><strong>上传书籍</strong></h1>\r\n                <Form onSubmit={this.handleSubmit} >\r\n                    <Form.Item>\r\n                        {getFieldDecorator('author')(\r\n                            <Input\r\n                                type=\"author\"\r\n                                placeholder=\"author\"\r\n                                onChange={this.update('author')}\r\n                                required\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('title')(\r\n                            <Input\r\n                                type=\"title\"\r\n                                placeholder=\"title\"\r\n                                onChange={this.update('title')}\r\n                                required\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('description')(\r\n                            <Input\r\n                                type=\"description\"\r\n                                placeholder=\"description\"\r\n                                onChange={this.update('description')}\r\n                                required\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        {getFieldDecorator('cover_img_uri')(\r\n                            <Input\r\n                                type=\"cover_img_url\"\r\n                                placeholder=\"cover_img_url\"\r\n                                onChange={this.update('cover_img_url')}\r\n                                required\r\n                            />,\r\n                        )}\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                            上传\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n                <Upload {...props}>\r\n                    <Button>\r\n                        <Icon type=\"upload\" /> 上传epub和svg图片,命名需和title一致\r\n                    </Button>\r\n                </Upload>\r\n                <h1 className='logo'><strong>删除书籍</strong></h1>\r\n                <Search placeholder=\"输入删除书籍的title\"\r\n                        enterButton=\"删除\"\r\n                        onSearch={(value) => {\r\n                            fetch(window.webBase+\"/api/delete_book/\"+value);\r\n                        }}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst WrappedForm = Form.create({ name: 'upload' })(Index);\r\nexport  default  WrappedForm;","import App from './App';\r\n//must import app container where it is rendered\r\nimport React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter} from 'react-router-dom';\r\nimport {persistStore, persistCombineReducers} from 'redux-persist';\r\nimport { PersistGate } from 'redux-persist/es/integration/react';\r\nconst Root = ({ store }) => (\r\n    <Provider store={ store }>\r\n        <HashRouter>\r\n            <PersistGate persistor={persistStore(store)}>\r\n                <App />\r\n            </PersistGate>\r\n\r\n        </HashRouter>\r\n    </Provider>\r\n);\r\n\r\nexport default Root;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import merge from 'lodash/merge';\r\n\r\nimport {\r\n    RECEIVE_CURRENT_USER,\r\n} from '../actions/session_actions';\r\n\r\nconst nullUser = Object.freeze({\r\n    currentUser: null,\r\n});\r\n\r\nconst SessionReducer = (state = nullUser, action) => {\r\n    Object.freeze(state);\r\n    switch(action.type) {\r\n        case RECEIVE_CURRENT_USER:\r\n            const currentUser = action.currentUser;\r\n            return merge({}, nullUser, {\r\n                currentUser\r\n            });\r\n        case 'LOGOUT':\r\n            return nullUser;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default SessionReducer;\r\n","import { RECEIVE_BOOKS, RECEIVE_ONE_BOOK,RECEIVE_COMMENT } from '../actions/book_actions';\r\nimport { merge } from 'lodash';\r\n\r\n\r\nconst BooksReducer = (state = null, action) => {\r\n    switch (action.type) {\r\n        case RECEIVE_BOOKS:\r\n            //console.log(merge({}, state, action.book));\r\n            return merge({}, null, action.book);\r\n        case RECEIVE_ONE_BOOK:\r\n            return merge({}, state, { [action.book.id]: action.book } );\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default BooksReducer;\r\n","import { RECEIVE_ERRORS, CLEAR_ERRORS } from '../actions/error_actions';\r\nimport { merge } from 'lodash';\r\n\r\nconst ErrorsReducer = (state = [], action) => {\r\n\r\n    switch (action.type) {\r\n        case RECEIVE_ERRORS:\r\n            console.log(action);\r\n            return merge({}, state, action.errors);\r\n        case CLEAR_ERRORS:\r\n            return [];\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport default ErrorsReducer;\r\n","import { combineReducers } from 'redux';\r\nimport SessionReducer from './session_reducer';\r\nimport BooksReducer from './book_reducer';\r\nimport ErrorReducer from './error_reducer';\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    session: SessionReducer,\r\n    books: BooksReducer,\r\n    errors: ErrorReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { createStore, applyMiddleware } from \"redux\";\r\n\r\n// Logger with default options\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer  from '../reducers/root_reducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport {persistStore, persistReducer} from 'redux-persist';\r\n\r\nimport storage from 'redux-persist/lib/storage'\r\nconst middleware = [thunk];\r\n\r\nconst config = {\r\n    key: 'root',\r\n    storage,\r\n};\r\nlet reducer = persistReducer(config, rootReducer);\r\n\r\nexport default function configureStore() {\r\n    return  createStore(reducer, composeWithDevTools(\r\n        applyMiddleware(...middleware)\r\n    ));\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Root from './components/root';\nimport * as serviceWorker from './serviceWorker';\nimport configureStore from './store/store';\nconst reduxStore = configureStore();\nwindow.webBase = \"https://www.mooooon333.cn:5000/\";\nReactDOM.render(<Root store={reduxStore}/>, document.getElementById('root'));\n//ReactDOM.render(<Root/>, document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}